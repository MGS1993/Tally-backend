(this.webpackJsonptally=this.webpackJsonptally||[]).push([[0],{30:function(e,t,n){e.exports={appTitleWrapper:"LoginPage_appTitleWrapper__3T6m2",mainWrapper:"LoginPage_mainWrapper__sEUSR",formWrapper:"LoginPage_formWrapper__2bVHB",inputWrapper:"LoginPage_inputWrapper__2v8NI",loginInput:"LoginPage_loginInput__3zld-",loginSubmit:"LoginPage_loginSubmit__3p4-N"}},32:function(e,t,n){e.exports={bottomWrapper:"TallyExpense_bottomWrapper__1etld",date:"TallyExpense_date__1bxxM",iconWrapper:"TallyExpense_iconWrapper__3fapK",mainWrapper:"TallyExpense_mainWrapper__39_v0",midWrapper:"TallyExpense_midWrapper__IKxp4",ownerNameWrapper:"TallyExpense_ownerNameWrapper__3hQFv",topWrapper:"TallyExpense_topWrapper__23h2l"}},48:function(e,t,n){e.exports={mainWrapper:"NavFooter_mainWrapper__3fp08",secondaryWrapper:"NavFooter_secondaryWrapper__3fHZ1"}},49:function(e,t,n){e.exports={formWrapper:"Menu_formWrapper__2pZop"}},76:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var r,a,c,s,i,o,l,d,p,u,j=n(0),x=n.n(j),b=n(51),f=n.n(b),h=(n(76),n(7)),O=n(62),v=n(8),m=x.a.createContext(),g=n(1),y={alignItems:"center",backgroundColor:"dodgerblue",color:"white",display:"flex",height:"6%",justifyContent:"center",minHeight:"38px"},w=function(){return Object(g.jsx)("div",{style:y,children:Object(g.jsx)("h1",{children:"Tally"})})},_={alignItems:"center",display:"flex",flex:"1",flexDirection:"column",margin:"10px",textAlign:"center",height:"100%",justifyContent:"center"},N={alignItems:"center",alignSelf:"center",backgroundColor:"white",borderRadius:"5px",boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",display:"flex",justifyContent:"center",marginTop:"25px",padding:"10px",width:"80vw"},W={color:"gray",fontSize:"14px",minHeight:"32px"},E={color:"green",fontSize:"28px",fontWeight:"bold",marginTop:"10%"},k=function(e){var t=e.data,n=e.userName;return Object(g.jsxs)("div",{style:N,children:[Object(g.jsxs)("div",{style:_,children:[Object(g.jsx)("p",{style:W,children:"".concat(n,"'s Expenses")}),Object(g.jsxs)("div",{style:E,children:[null===t||void 0===t?void 0:t.calculatedUserExpenses," "]})]}),Object(g.jsxs)("div",{style:_,children:[Object(g.jsx)("p",{style:W,children:"Balance"}),Object(g.jsx)("div",{id:"difference",style:E,children:(null===t||void 0===t?void 0:t.calculatedUserExpenses)-(null===t||void 0===t?void 0:t.calculatedOtherUserExpenses)||0})]}),Object(g.jsxs)("div",{style:_,children:[Object(g.jsx)("p",{style:W,children:"".concat("manuel"===n?"victoria":"manuel","'s Expenses")}),Object(g.jsx)("div",{style:E,children:null===t||void 0===t?void 0:t.calculatedOtherUserExpenses})]})]})},S=n(5),T=n.n(S),C=n(14),I=n(12),D=function(){var e=Object(C.a)(T.a.mark((function e(t,n){var r,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/deleteExpense/".concat(t,"/").concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,console.log(a),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log("error in delete expense function:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(C.a)(T.a.mark((function e(t){var n,r,a,c,s,i;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,fetch("/api/getExpenses/".concat(t));case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,a=r.userExpenses,c=r.otherUserExpenses,s=r.calculatedUserExpenses,i=r.calculatedOtherUserExpenses,e.abrupt("return",{userExpenses:a,otherUserExpenses:c,calculatedUserExpenses:s,calculatedOtherUserExpenses:i});case 13:e.prev=13,e.t0=e.catch(2),console.log("Error in getExpense function:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),z=n(32),M=n.n(z),P=n(104),L=n(110),q=function(e){var t=Object(P.a)(e);return Object(L.a)(new Date(t),"MMMM do")},F=n(18),J=n(15),H=n(115),A=n(60),B=n.n(A),R=Object(J.a)(H.a)(r||(r=Object(F.a)(["\n  color: red;\n  background-color: white;\n"]))),V=function(e){var t=e.onClick;return Object(g.jsx)(R,{size:"small",onClick:t,children:Object(g.jsx)(B.a,{})})},K=function(e){var t=e.cost,n=e.title,r=e.date,a=e.description,c=e.clicked,s=e.ownerName;return Object(g.jsxs)("div",{className:M.a.mainWrapper,children:[Object(g.jsxs)("div",{className:M.a.ownerNameWrapper,children:["-",s,"-"]}),Object(g.jsxs)("div",{className:M.a.topWrapper,children:[Object(g.jsx)("div",{className:M.a.date,children:q(r)}),Object(g.jsx)(V,{onClick:c})]}),Object(g.jsxs)("div",{className:M.a.midWrapper,children:[Object(g.jsx)("div",{className:M.a.title,children:(null===n||void 0===n?void 0:n.length)>1?n:"No Title"}),Object(g.jsxs)("div",{children:["Amount: ",t]})]}),Object(g.jsx)("div",{className:M.a.bottomWrapper,children:Object(g.jsx)("p",{children:a})})]})},Z={alignItems:"center",paddingTop:"20px"},Q={alignItems:"center",display:"flex",flexDirection:"column",maxHeight:"65vh",overflow:"scroll"},G=function(e){var t=e.data,n=e.userId,r=e.setData,a=[],c=function(e,t,n){if(void 0!==e&&void 0!==t){var r=[].concat(Object(I.a)(e),Object(I.a)(t));return"descending"===n&&r.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),r}}(null===t||void 0===t?void 0:t.userExpenses,null===t||void 0===t?void 0:t.otherUserExpenses,"descending"),s=function(){var e=Object(C.a)(T.a.mark((function e(t,n){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,n);case 2:return e.next=4,U(t);case 4:a=e.sent,r(a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return null===c||void 0===c||c.forEach((function(e,t){a.push(Object(g.jsx)(K,{cost:e.cost,title:e.title,date:e.date,description:e.description,ownerName:e.ownerName,clicked:function(){return s(n,e._id)}},t))})),Object(g.jsx)("div",{style:Z,children:Object(g.jsx)("div",{style:Q,children:a})})},X={display:"flex",flexDirection:"column",flex:"1"},Y=function(e){var t=e.data,n=e.setData,r=Object(j.useContext)(m);return Object(g.jsxs)("div",{style:X,children:[Object(g.jsx)(k,{data:t,userName:null===r||void 0===r?void 0:r.user.userName}),Object(g.jsx)(G,{data:t,userId:null===r||void 0===r?void 0:r.user._id,userName:null===r||void 0===r?void 0:r.user.userName,setData:n})]})},$=n(48),ee=n.n($),te=n(63),ne=function(e){var t=e.size,n=void 0===t?"20px":t,r=e.backgroundColor,a=void 0===r?"white":r,c=e.iconColor,s=void 0===c?"black":c,i=e.IconName;return Object(g.jsx)("div",{style:{display:"flex",width:n,height:n,borderRadius:parseInt(n)/2,backgroundColor:a,justifyContent:"center",alignItems:"center"},children:Object(g.jsx)(i,{color:s,size:n})})},re=n(31),ae=n(49),ce=n.n(ae),se=n(41),ie=function(){var e=Object(C.a)(T.a.mark((function e(t,n){var r,a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.userId=n,e.prev=1,e.next=4,fetch("/api/addExpense",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",{data:a,response:r});case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(e,t){return(t*e/100).toFixed(2)},le=n(19),de=le.a.div(a||(a=Object(F.a)(["\n  background-color: #fff;\n  bottom: -50vh;\n  display: flex;\n  flex-direction: column;\n  height: 0vh;\n  justify-content: center;\n  position: fixed;\n  transition: 0.5s ease-in-out;\n  width: 100%;\n"]))),pe=le.a.form(c||(c=Object(F.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n  /* margin: 20% 0px; */\n"]))),ue=le.a.div(s||(s=Object(F.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  & > textarea {\n    border: 2px solid #5cb6e2;\n    color: #38334ccc;\n\n    font-size: 18px;\n    padding: 8px 12px;\n  }\n"]))),je=le.a.input(i||(i=Object(F.a)(["\n  border: 2px solid #5cb6e2;\n  color: #38334ccc;\n  font-size: 26px;\n  padding: 8px 12px;\n  width: inherit;\n"]))),xe=le.a.div(o||(o=Object(F.a)(["\n  align-items: center;\n  background-color: #f0f9fe;\n  color: #5cb6e2;\n  display: flex;\n  justify-content: space-between;\n  font-size: 28px;\n  font-weight: bold;\n  padding: 10px 12px;\n  text-transform: uppercase;\n"]))),be=le.a.div(l||(l=Object(F.a)(["\n  display: flex;\n  position: relative;\n  width: 100%;\n"]))),fe=le.a.div(d||(d=Object(F.a)(["\n  color: #38334ccc;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  font-size: 18px;\n  top: 0px;\n  right: 0px;\n  height: 100%;\n  padding: 8px;\n  width: 30%;\n"]))),he=function(e){var t=e.calculatedSplit;return Object(g.jsx)(fe,{children:t})},Oe=le.a.button(p||(p=Object(F.a)(["\n  align-items: center;\n  background-color: ",";\n  border: 0px;\n  border-radius: 12px;\n  color: white;\n  display: flex;\n  justify-content: center;\n  font-size: 12px;\n  padding: 8px;\n  transition: background-color 0.4s ease;\n\n  & > div {\n    padding: 4px;\n  }\n"])),(function(e){return e.toggled?"dodgerblue":"#bdbdbd"})),ve=function(e){var t=e.clicked,n=e.disabled,r=e.name,a=e.toggled;return Object(g.jsx)(Oe,{type:"button",disabled:n,toggled:a,onClick:t,children:Object(g.jsx)("div",{children:r})})},me=n(112),ge=n(114),ye=Object(J.a)(ge.a)(u||(u=Object(F.a)(["\n  align-self: center;\n  color: white;\n  font-weight: bold;\n  width: 90%;\n"]))),we=function(e){var t,n=e.setData,r=e.setMenuToggle,a=e.menuToggle,c=e.style,s=Object(j.useContext)(m),i=Object(j.useState)(!1),o=Object(h.a)(i,2),l=o[0],d=o[1],p=Object(j.useState)(),u=Object(h.a)(p,2),x=u[0],b=u[1],f=Object(j.useState)(!0),O=Object(h.a)(f,2),v=O[0],y=O[1],w=Object(se.a)(),_=w.register,N=w.handleSubmit,W=w.reset,E=w.getValues,k=w.formState.errors,S=function(){var e=Object(C.a)(T.a.mark((function e(t){var c;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.cost=x,e.next=3,ie(t,s.user._id);case 3:return e.next=5,U(s.user._id);case 5:c=e.sent,n(c),W(),b(null),y(!0),r(!a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){!function(e){e.length<=0?y(!0):y(!1)}(e.target.value);var t=parseInt(e.target.value),n=oe(t,50);b(n)};return Object(g.jsx)(de,{style:c,children:Object(g.jsxs)(pe,{id:"form",onSubmit:N((function(e){return S(e)})),children:[Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(ue,{children:[Object(g.jsxs)(xe,{children:["Cost",Object(g.jsx)(ve,{disabled:v,toggled:l,name:"Modify Split",clicked:function(){return d(!l)}})]}),Object(g.jsxs)(be,{children:[Object(g.jsx)(je,Object(re.a)({type:"number",id:"number-input",inputMode:"numeric",placeholder:"Cost (required)",name:"cost",onInput:function(e){return I(e)}},_("cost",{required:!0}))),Object(g.jsx)(he,{calculatedSplit:x})]}),"required"===(null===(t=k.cost)||void 0===t?void 0:t.type)&&"Cost is required",Object(g.jsx)(me.a,{disabled:!l,onChange:function(e){return function(e){var t=E("cost"),n=oe(e,t);b(n)}(e.target.value)},size:"medium",min:0,max:100,defaultValue:50,"aria-label":"sliderPercent",step:5,valueLabelDisplay:"auto",sx:{height:l?"8px":"0px",opacity:l?"1":"0",transition:"all 0.3s linear"}})]})}),Object(g.jsxs)(ue,{className:ce.a.titleWrapper,children:[Object(g.jsx)(xe,{children:"Title"}),Object(g.jsx)(je,Object(re.a)({type:"text",id:"title-input",name:"title",placeholder:"Title"},_("title")))]}),Object(g.jsxs)(ue,{className:ce.a.dateWrapper,children:[Object(g.jsx)(xe,{children:"Date"}),Object(g.jsx)(je,Object(re.a)({type:"date",id:"date-picker",name:"date"},_("date")))]}),Object(g.jsx)(ue,{children:Object(g.jsx)("textarea",Object(re.a)({cols:"15",rows:"2",id:"textarea-input",placeholder:"Description",name:"description"},_("description")))}),Object(g.jsx)(ye,{variant:"contained",type:"submit",children:"Submit Expense"})]})})},_e=function(e){var t=e.clicked,n=e.menuToggle,r=e.setMenuToggle,a=e.setData;return Object(g.jsxs)(g.Fragment,{children:[n?Object(g.jsx)(we,{setData:a,menuToggle:n,setMenuToggle:r,style:{height:"100%",bottom:"0%"}}):Object(g.jsx)(we,{}),Object(g.jsx)("div",{id:"burger",className:ee.a.mainWrapper,children:Object(g.jsx)("div",{className:ee.a.secondaryWrapper,children:Object(g.jsx)("div",{onClick:t,children:Object(g.jsx)(ne,{IconName:te.a,size:30})})})})]})},Ne=function(e){var t=Object(j.useState)([]),n=Object(h.a)(t,2),r=n[0],a=n[1],c=Object(j.useState)(!1),s=Object(h.a)(c,2),i=s[0],o=s[1],l=Object(j.useState)(!1),d=Object(h.a)(l,2),p=d[0],u=d[1],x=function(){var t=Object(C.a)(T.a.mark((function t(){var n,r=arguments;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,u(!0),t.next=4,e.apply(void 0,r);case 4:n=t.sent,u(!1),o(!1),a(n),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),console.log("error in useAPi hook:",t.t0),t.abrupt("return",o(!0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return{data:r,setData:a,error:i,loading:p,request:x}},We=function(){var e=Object(j.useState)(!1),t=Object(h.a)(e,2),n=t[0],r=t[1],a=Object(j.useContext)(m),c=Ne(U),s=c.data,i=c.setData,o=c.request;return Object(j.useEffect)((function(){o(null===a||void 0===a?void 0:a.user._id)}),[]),Object(g.jsxs)(O.a,{children:[Object(g.jsx)(w,{}),Object(g.jsx)(v.c,{children:Object(g.jsx)(v.a,{path:"/",element:Object(g.jsx)(Y,{data:s,setData:i})})}),Object(g.jsx)(_e,{clicked:function(){return r(!n)},menuToggle:n,setMenuToggle:r,setData:i})]})},Ee=(n(87),n(30)),ke=n.n(Ee),Se=function(){var e=Object(C.a)(T.a.mark((function e(t){var n,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/login",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",{data:r,response:n});case 10:e.prev=10,e.t0=e.catch(0),console.log("Error in login function > auth.js",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(j.useContext)(m),t=Object(se.a)(),n=t.register,r=t.handleSubmit,a=function(){var t=Object(C.a)(T.a.mark((function t(n){var r,a,c;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Se(n);case 2:r=t.sent,a=r.response,c=r.data,200===a.status&&(console.log("Successfully logged in"),localStorage.setItem("user",JSON.stringify(c)),e.setUser(c));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:ke.a.mainWrapper,children:[Object(g.jsx)("div",{className:ke.a.appTitleWrapper,children:Object(g.jsx)("h1",{children:"Tally"})}),Object(g.jsxs)("form",{className:ke.a.formWrapper,onSubmit:r(a),children:[Object(g.jsxs)("div",{className:ke.a.inputWrapper,children:[Object(g.jsx)("label",{htmlFor:"username",children:"Username"}),Object(g.jsx)("input",Object(re.a)({className:ke.a.loginInput,type:"text",placeholder:"Username",name:"username"},n("username",{required:!0})))]}),Object(g.jsxs)("div",{className:ke.a.inputWrapper,children:[Object(g.jsx)("label",{htmlFor:"password",children:"Password"}),Object(g.jsx)("input",Object(re.a)({className:ke.a.loginInput,type:"password",placeholder:"Password",name:"password"},n("password",{required:!0})))]}),Object(g.jsx)("input",{className:ke.a.loginSubmit,type:"submit",value:"Login"})]})]})};var Ce=function(){var e=Object(j.useState)(),t=Object(h.a)(e,2),n=t[0],r=t[1];return Object(j.useEffect)((function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);r(t)}}),[]),Object(g.jsx)(m.Provider,{value:{user:n,setUser:r},children:Object(g.jsx)("div",{className:"App",children:n?Object(g.jsx)(We,{}):Object(g.jsx)(Te,{})})})};f.a.render(Object(g.jsx)(x.a.StrictMode,{children:Object(g.jsx)(Ce,{})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.8cd63dc4.chunk.js.map