(this.webpackJsonptally=this.webpackJsonptally||[]).push([[0],{237:function(e,n,t){},373:function(e,n,t){},384:function(e,n,t){"use strict";t.r(n);var r,i,c,a,o,s,l,d,u,p,j,x,b,f,h,O,v,g,m,w,y,k,S,C,U,E,N,z,D,T,I,q,M,P,_,F,L,A,J,V,H,R,$,B,X,K,G,Q,W,Y=t(1),Z=t.n(Y),ee=t(91),ne=t.n(ee),te=(t(237),t(5)),re=t(93),ie=t(20),ce=Z.a.createContext(),ae=Z.a.createContext(),oe=t(8),se=t(34),le=t(410),de=Object(se.a)(le.a)(r||(r=Object(oe.a)(["\n  align-self: center;\n  color: white;\n  font-weight: bold;\n"]))),ue=Object(se.a)(de)(i||(i=Object(oe.a)(["\n  padding: 10px;\n  width: 90%;\n\n  @media (min-width: 765px) {\n    width: 30%;\n  }\n"]))),pe=Object(se.a)(de)(c||(c=Object(oe.a)(["\n  height: 35px;\n  left: 0px;\n  position: absolute;\n\n  & > :first-child {\n    height: 100%;\n    width: 100%;\n  }\n"]))),je=t(196),xe=t(9),be=xe.a.header(a||(a=Object(oe.a)(["\n  align-items: center;\n  background-color: dodgerblue;\n  color: #fff;\n  display: flex;\n  height: 6%;\n  justify-content: center;\n  max-height: 50px;\n  position: relative;\n"]))),fe=t(2),he=function(){var e=Object(Y.useContext)(ce);return Object(fe.jsxs)(be,{children:[Object(fe.jsx)(pe,{onClick:function(){return localStorage.removeItem("user"),void e.setUser(null)},children:Object(fe.jsx)(je.a,{color:"white"})}),Object(fe.jsx)("h1",{children:"Tally"})]})},Oe=xe.a.div(o||(o=Object(oe.a)(["\n  align-self: center;\n  background-color: dodgerblue;\n  border-radius: 10px;\n  color: #fff;\n  display: flex;\n  flex-direction: column;\n  margin-top: 10px;\n  padding: 10px;\n  width: 97%;\n\n  @media (min-width: 768px) {\n    width: 40%;\n  }\n"]))),ve=xe.a.div(s||(s=Object(oe.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  font-size: 18px;\n  justify-content: center;\n  text-align: center;\n  text-transform: capitalize;\n"]))),ge=xe.a.div(l||(l=Object(oe.a)(["\n  display: flex;\n  flex: 1;\n"]))),me=Object(xe.a)(ve)(d||(d=Object(oe.a)(["\n  color: ",";\n  font-size: 26px;\n  font-weight: bold;\n  margin: 10px 20px 10px 20px;\n"])),(function(e){return e.deficit?"#b82500":"#fff"})),we=function(e){var n=e.data,t=e.currentUser,r=e.linkedUser,i=(null===n||void 0===n?void 0:n.calculatedUserExpenses)-(null===n||void 0===n?void 0:n.calculatedOtherUserExpenses);return Object(fe.jsxs)(Oe,{children:[Object(fe.jsxs)(ge,{children:[Object(fe.jsx)(ve,{children:"".concat(t,"'s Expenses")}),Object(fe.jsx)(ve,{children:"Balance"}),Object(fe.jsx)(ve,{children:"".concat(r,"'s Expenses")})]}),Object(fe.jsxs)(ge,{children:[Object(fe.jsx)(me,{children:null===n||void 0===n?void 0:n.calculatedUserExpenses}),Object(fe.jsx)(me,{deficit:i<0,children:i||0}),Object(fe.jsx)(me,{children:null===n||void 0===n?void 0:n.calculatedOtherUserExpenses})]})]})},ye=t(13),ke=t.n(ye),Se=t(26),Ce=t(15),Ue=function(){var e=Object(Se.a)(ke.a.mark((function e(n,t){var r,i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/deleteExpense/".concat(n,"/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:return i=e.sent,console.log(i),e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(0),console.log("error in delete expense function:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(Se.a)(ke.a.mark((function e(n){var t,r,i,c,a,o;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,fetch("/api/getExpenses/".concat(n));case 5:return t=e.sent,e.next=8,t.json();case 8:return r=e.sent,i=r.userExpenses,c=r.otherUserExpenses,a=r.calculatedUserExpenses,o=r.calculatedOtherUserExpenses,e.abrupt("return",{userExpenses:i,otherUserExpenses:c,calculatedUserExpenses:a,calculatedOtherUserExpenses:o});case 13:e.prev=13,e.t0=e.catch(2),console.log("Error in getExpense function:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(n){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(Se.a)(ke.a.mark((function e(){var n,t;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("historical expenses called."),e.prev=1,e.next=4,fetch("/api/getHistoricalExpenses");case 4:return n=e.sent,e.next=7,n.json();case 7:return t=e.sent,e.abrupt("return",t);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),ze=t(404),De=t(409),Te=function(e){var n=Object(ze.a)(e);return Object(De.a)(new Date(n),"MMMM do")},Ie=xe.a.div(u||(u=Object(oe.a)(["\n  background-color: white;\n  border: 1px solid #c9c9c9c9;\n  border-radius: 6px;\n  display: flex;\n  flex: 0 0 100px;\n  margin: 10px 0px;\n  padding: 12px 2px;\n  /* width: 88vw; */\n"]))),qe=xe.a.div(p||(p=Object(oe.a)(["\n  align-items: center;\n  display: flex;\n  flex-basis: 30%;\n  flex-direction: column;\n  justify-content: center;\n  position: relative;\n"]))),Me=xe.a.div(j||(j=Object(oe.a)(["\n  color: green;\n  font-size: 1.6rem;\n"]))),Pe=xe.a.div(x||(x=Object(oe.a)(["\n  color: #808080;\n  text-transform: capitalize;\n"]))),_e=xe.a.div(b||(b=Object(oe.a)(["\n  display: flex;\n  flex-basis: 70%;\n  flex-direction: column;\n"]))),Fe=xe.a.div(f||(f=Object(oe.a)(["\n  //placeholder color\n  align-items: center;\n  background-color: ",";\n  border-radius: 8px;\n  color: white;\n  display: flex;\n  font-size: 1.4rem;\n  min-height: 40px;\n  justify-content: center;\n  position: relative;\n  text-align: center;\n  margin: 0 8px;\n\n  @media (min-width: 768px) {\n    margin: 0 15%;\n  }\n"])),(function(e){var n=e.toggle,t=e.colorAccent;return 1===n?"white":t})),Le=xe.a.div(h||(h=Object(oe.a)(["\n  max-width: 70%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),Ae=xe.a.div(O||(O=Object(oe.a)(["\n  border-radius: 8px;\n  display: flex;\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #ff6640;\n  transform: scaleX(0);\n  transform-origin: 0 50%;\n  transition-property: transform;\n  transition-duration: 0.5s;\n  transition-timing-function: ease-out;\n\n  ","\n  //delete and cancel button post animation\n  & > div:first-child {\n    align-items: center;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    width: 100%;\n  }\n"])),(function(e){return e.toggle&&"\n      transform: scaleX(1);\n      transition-timing-function: cubic-bezier(0.52, 1.64, 0.37, 0.66);\n  "})),Je=xe.a.div(v||(v=Object(oe.a)(["\n  position: absolute;\n  height: 22px;\n  width: 22px;\n  left: 5px;\n"]))),Ve=xe.a.div(g||(g=Object(oe.a)(["\n  & > :first-child {\n    /* grey is color placeholder */\n    color: grey;\n  }\n"]))),He=xe.a.div(m||(m=Object(oe.a)(["\n  display: flex;\n  flex-basis: 40%;\n  justify-content: space-evenly;\n  margin-top: ",";\n\n  & > div {\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n"])),(function(e){var n=e.descPopulateChecker;return(null===n||void 0===n?void 0:n.length)>1?"0px":"5px"})),Re=xe.a.div(w||(w=Object(oe.a)(["\n  color: #6e6e6e;\n  flex-basis: 60%;\n  margin: 0 8px;\n  padding: 8px 0px;\n  overflow: scroll;\n\n  @media (min-width: 768px) {\n    scrollbar-width: none; // firefox\n    ::-webkit-scrollbar {\n      display: none; /* Safari and Chrome */\n    }\n  }\n"]))),$e=xe.a.div(y||(y=Object(oe.a)(["\n  align-self: center;\n  border-left: 1px solid grey;\n  display: flex;\n  height: 90%;\n"]))),Be=t(197),Xe=xe.a.button(k||(k=Object(oe.a)(["\n  border: 0px solid white;\n  border-radius: 11px;\n  background-color: transparent;\n  height: 100%;\n  width: 100%;\n\n  & > :first-child {\n    height: 100%;\n    width: 100%;\n  }\n"]))),Ke=function(e){var n=e.onClick;return Object(fe.jsx)(Xe,{onClick:n,children:Object(fe.jsx)(Be.a,{color:"white"})})},Ge=function(e){var n=e.cost,t=e.title,r=e.date,i=e.description,c=e.clicked,a=e.ownerName,o=e.splitValue,s=e.initialCost,l=e.colorAccent,d=Object(Y.useState)(!1),u=Object(te.a)(d,2),p=u[0],j=u[1];return Object(fe.jsxs)(Ie,{children:[Object(fe.jsxs)(qe,{children:[Object(fe.jsx)(Pe,{children:Object(fe.jsxs)("p",{children:["-",a,"-"]})}),Object(fe.jsx)(Me,{children:Object(fe.jsxs)("p",{children:["$",n]})})]}),Object(fe.jsx)($e,{}),Object(fe.jsxs)(_e,{children:[Object(fe.jsxs)(Fe,{colorAccent:l,toggle:p?1:0,children:[Object(fe.jsx)(Ae,{toggle:p?1:0,children:Object(fe.jsxs)("div",{children:[Object(fe.jsx)(de,{onClick:c,children:"Delete"}),Object(fe.jsx)(de,{onClick:function(){return j(!1)},children:"Cancel"})]})}),p?null:Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(Je,{children:Object(fe.jsx)(Ke,{onClick:function(){return j(!0)}})}),Object(fe.jsx)(Le,{children:(null===t||void 0===t?void 0:t.length)>1?t:"No Title"})]})]}),(null===i||void 0===i?void 0:i.length)>1?Object(fe.jsx)(Re,{children:i}):null,Object(fe.jsxs)(He,{descPopulateChecker:i,children:[Object(fe.jsxs)(Ve,{children:[Object(fe.jsx)("div",{children:"Date"}),Object(fe.jsx)("div",{children:Te(r)})]}),Object(fe.jsx)($e,{}),Object(fe.jsxs)(Ve,{children:[Object(fe.jsx)("div",{children:"split by"}),Object(fe.jsxs)("div",{children:[o,"%"]})]}),Object(fe.jsx)($e,{}),Object(fe.jsxs)(Ve,{children:[Object(fe.jsx)("div",{children:"Total"}),Object(fe.jsxs)("div",{children:["$",s]})]})]})]})]})},Qe=t(413),We=xe.a.div(S||(S=Object(oe.a)(["\n  display: flex;\n  flex-direction: column;\n  max-height: 75vh;\n  overflow: scroll;\n  padding-bottom: 7vh;\n  width: 88%;\n\n  @media (min-width: 768px) {\n    width: 50%;\n    scrollbar-width: none; // firefox\n    ::-webkit-scrollbar {\n      display: none; /* Safari and Chrome */\n    }\n  }\n"]))),Ye=function(e){var n=e.data,t=e.userId,r=e.setData,i=[],c=function(e,n,t){if(void 0!==e&&void 0!==n){var r=[].concat(Object(Ce.a)(e),Object(Ce.a)(n));return"descending"===t&&r.sort((function(e,n){return new Date(n.date)-new Date(e.date)})),r}}(null===n||void 0===n?void 0:n.userExpenses,null===n||void 0===n?void 0:n.otherUserExpenses,"descending"),a=function(){var e=Object(Se.a)(ke.a.mark((function e(n,t){var i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue(n,t);case 2:return e.next=4,Ee(n);case 4:i=e.sent,r(i);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return null===c||void 0===c||c.forEach((function(e,n){i.push(Object(fe.jsx)(Ge,{cost:e.cost,title:e.title,date:e.date,description:e.description,ownerName:e.ownerName,splitValue:e.splitValue,initialCost:e.initialCost,clicked:function(){return a(t,e._id)},colorAccent:e.exLabelColor},Object(Qe.a)()))})),Object(fe.jsx)(We,{children:i})},Ze=xe.a.div(C||(C=Object(oe.a)(["\n  align-items: ",";\n  display: flex;\n  flex: 1;\n  justify-content: ",";\n  flex-direction: ",";\n  position: relative;\n  /* overflow: scroll; */\n"])),(function(e){return e.align}),(function(e){return e.justifyContent}),(function(e){return e.direction})),en=function(e){var n=e.data,t=e.setData,r=e.currentUser,i=e.linkedUser;return Object(fe.jsxs)(Ze,{align:"center",direction:"column",children:[Object(fe.jsx)(we,{data:n,currentUser:r.userName,linkedUser:null===i||void 0===i?void 0:i.userName}),Object(fe.jsx)(Ye,{data:n,userId:r._id,setData:t})]})},nn=xe.a.div(U||(U=Object(oe.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  margin-bottom: 6vh;\n  overflow: scroll;\n"]))),tn=function(e){var n=Object(Y.useState)([]),t=Object(te.a)(n,2),r=t[0],i=t[1],c=Object(Y.useState)(!1),a=Object(te.a)(c,2),o=a[0],s=a[1],l=Object(Y.useState)(!1),d=Object(te.a)(l,2),u=d[0],p=d[1],j=function(){var n=Object(Se.a)(ke.a.mark((function n(){var t,r=arguments;return ke.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,p(!0),n.next=4,e.apply(void 0,r);case 4:t=n.sent,p(!1),s(!1),i(t),n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),console.log("error in useAPi hook:",n.t0),n.abrupt("return",s(!0));case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();return{data:r,setData:i,error:o,loading:u,request:j}},rn=t(405),cn=t(414),an=t(222),on=t(211),sn=t(101),ln=["dodgerblue","#f95959","#3fba37","#a037baf0","#0c8065f0","#8e1ac8f0"],dn=xe.a.h1(E||(E=Object(oe.a)(["\n  color: dodgerblue;\n  margin-top: 22px;\n  opacity: ",";\n  transition: opacity 0.4s ease;\n"])),(function(e){return e.animationToggle?1:0})),un=Z.a.memo((function(e){var n=e.chartData,t=e.animationFinished,r=e.setAnimationFinished;return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsx)(dn,{animationToggle:t,children:"Historical Expenses"}),Object(fe.jsx)(rn.a,{height:"60%",children:Object(fe.jsxs)(cn.a,{children:[Object(fe.jsx)(an.a,{data:n.finishedData,dataKey:"value",label:!0,labelLine:!1,onAnimationEnd:function(){return r(!0)},legendType:"square",children:n.finishedData.map((function(e,n){return Object(fe.jsx)(on.a,{fill:ln[n]},"cell-".concat(n))}))}),Object(fe.jsx)(sn.a,{})]})})]})})),pn=xe.a.div(N||(N=Object(oe.a)(["\n  align-items: center;\n  background-color: #fff;\n  border: 2px solid ",";\n  border-radius: 6px;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  margin: 10px 0px;\n  width: 85%;\n\n  @media (min-width: 768px) {\n    width: 50%;\n  }\n"])),(function(e){return e.borderColor||"#c9c9c9c9"})),jn=xe.a.div(z||(z=Object(oe.a)(["\n  padding: 20px 20px 10px 20px;\n  display: flex;\n  justify-content: space-between;\n  text-align: center;\n  text-transform: capitalize;\n  width: 100%;\n"]))),xn=Object(xe.a)(jn)(D||(D=Object(oe.a)(["\n  height: ",";\n  opacity: ",";\n  padding: ",";\n  transition: all 0.3s ease;\n"])),(function(e){return e.expanded?"35px":"0px"}),(function(e){return e.expanded?"1":"0"}),(function(e){return e.expanded?"20px 20px 10px 20px":"0px"})),bn=xe.a.div(T||(T=Object(oe.a)(["\n  padding: 5px 25px;\n  transition: all 0.3s ease;\n  transform: ",";\n"])),(function(e){return e.expanded?"rotate(180deg)":"rotate(0deg)"})),fn=xe.a.div(I||(I=Object(oe.a)(["\n  display: flex;\n  width: ",";\n  border-radius: parseInt(20px) / 2;\n  justify-content: center;\n  align-items: center;\n\n  & > svg {\n    transition: color 0.4s ease;\n  }\n"])),(function(e){return e.iconSize})),hn=function(e){var n=e.size,t=void 0===n?"20px":n,r=e.IconName,i=e.activeColor,c=e.color,a=e.clicked,o=e.LinkTo;return void 0===o?Object(fe.jsx)(fn,{iconSize:t,tempColor:!0,onClick:a,children:Object(fe.jsx)(r,{color:c||i?"#1976d2":"black",size:t})}):Object(fe.jsx)("div",{children:Object(fe.jsx)(re.b,{to:o,children:Object(fe.jsx)(fn,{iconSize:t,tempColor:!0,onClick:a,children:Object(fe.jsx)(r,{color:c||i?"#1976d2":"black",size:t})})})})},On=t(118),vn=function(e){var n=e.cost,t=e.date,r=e.ownerName,i=e.accentColor,c=e.title,a=e.initialCost,o=Object(Y.useState)(!1),s=Object(te.a)(o,2),l=s[0],d=s[1];return Object(fe.jsxs)(pn,{borderColor:i,children:[Object(fe.jsxs)(jn,{children:[Object(fe.jsx)("div",{children:r}),Object(fe.jsxs)("div",{children:["$",n]}),Object(fe.jsx)("div",{children:Object(De.a)(Object(ze.a)(t),"MM-d-yy")})]}),Object(fe.jsxs)(xn,{expanded:l,children:[Object(fe.jsxs)("div",{children:[" ",c]}),Object(fe.jsxs)("div",{children:["TotalExpense: ",a," "]})]}),Object(fe.jsx)(bn,{expanded:l,onClick:function(){return d(!l)},children:Object(fe.jsx)(hn,{IconName:On.a})})]})},gn=xe.a.button(q||(q=Object(oe.a)(["\n  align-items: center;\n  background-color: ",";\n  border: ",";\n  border-radius: 12px;\n  color: ",";\n  display: flex;\n  font-size: 12px;\n  justify-content: center;\n  min-width: 116.5px;\n  padding: ",";\n  text-transform: capitalize;\n  transition: background-color 0.4s ease, color 0.4s ease;\n\n  & > div {\n    padding: 4px;\n  }\n"])),(function(e){return e.toggled?"dodgerblue":"#fff"}),(function(e){return e.toggled?"0px":"2px solid dodgerblue"}),(function(e){return e.toggled?"#fff":"#4a4a4a"}),(function(e){return e.toggled?"10px":"8px"})),mn=function(e){var n=e.clicked,t=e.disabled,r=e.name,i=e.toggled;return Object(fe.jsx)(gn,{type:"button",disabled:t,toggled:i,onClick:n,children:Object(fe.jsx)("div",{children:r})})},wn=(xe.a.div(M||(M=Object(oe.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),xe.a.div(P||(P=Object(oe.a)(["\n  align-items: center;\n  display: flex;\n  justify-content: ",";\n  width: ",";\n"])),(function(e){return e.justifyContent||"center"}),(function(e){return e.width}))),yn=Object(xe.a)(wn)(_||(_=Object(oe.a)(["\n  @media (min-width: 768px) {\n    width: 40%;\n  }\n"]))),kn=function(e){var n=e.list,t=Object(Y.useState)(n),r=Object(te.a)(t,2),i=r[0],c=r[1],a=Object(Y.useState)(!1),o=Object(te.a)(a,2),s=o[0],l=o[1],d=Object(Y.useState)(!1),u=Object(te.a)(d,2),p=u[0],j=u[1],x=Object(Y.useState)(!1),b=Object(te.a)(x,2),f=b[0],h=b[1],O=Object(Y.useState)(!1),v=Object(te.a)(O,2),g=v[0],m=v[1];return Object(fe.jsxs)(fe.Fragment,{children:[Object(fe.jsxs)(yn,{justifyContent:"space-around",width:"90%",children:[Object(fe.jsx)(mn,{name:g?f?"Old To New":"New To Old":"Sort Date",toggled:g,clicked:f?function(){return function(){var e=Object(Ce.a)(i);e.sort((function(e,n){return new Date(n.props.date)-new Date(e.props.date)})),c(e),h(!f),m(!0),j(!1)}()}:function(){return function(){var e=Object(Ce.a)(i);e.sort((function(e,n){return new Date(e.props.date)-new Date(n.props.date)})),c(e),h(!f),m(!0),j(!1)}()}}),Object(fe.jsx)(mn,{name:p?s?"High To Low":"Low To High":"Sort Expense",toggled:p,clicked:s?function(){return function(){var e=Object(Ce.a)(i);e.sort((function(e,n){return e.props.cost-n.props.cost})),c(e),l(!s),j(!0),m(!1)}()}:function(){return function(){var e=Object(Ce.a)(i);e.sort((function(e,n){return n.props.cost-e.props.cost})),c(e),l(!s),j(!0),m(!1)}()}})]}),i]})},Sn=function(e){var n=e.data,t=e.currentUser,r=e.linkedUser,i=[];return null===n||void 0===n||n.forEach((function(e,n){e.owner!==t._id&&e.owner!==r._id||i.push(Object(fe.jsx)(vn,{cost:e.cost,title:e.title,date:e.date,description:e.description,ownerName:e.ownerName,splitValue:e.splitValue,initialCost:e.initialCost,accentColor:e.ownerName===t.userName?"dodgerblue":"#f95959"},n))})),Object(fe.jsx)(kn,{list:i})},Cn=function(e,n,t){if(e){for(var r=[],i=[],c=null===n||void 0===n?void 0:n.userName,a=null===t||void 0===t?void 0:t.userName,o=0;o<e.length;o++)e[o].ownerName===c?r.push({name:e[o].ownerName,value:parseInt(e[o].cost)}):e[o].ownerName===(null===t||void 0===t?void 0:t.userName)&&i.push({name:e[o].ownerName,value:parseInt(e[o].cost)});return{finishedData:function(){var e=r.reduce((function(e,n){return e+n.value}),0),n=i.reduce((function(e,n){return e+n.value}),0);return[{name:c,value:e,color:"dodgerblue"},{name:a,value:n,color:"#f95959"}]}()}}},Un=function(e){var n=e.currentUser,t=e.linkedUser,r=Object(Y.useState)(!1),i=Object(te.a)(r,2),c=i[0],a=i[1],o=tn(Ne),s=o.data,l=o.request,d=s.allHistoricalExpenses,u=Cn(d,n,t);return Object(Y.useEffect)((function(){l()}),[]),Object(fe.jsxs)(nn,{children:[u?Object(fe.jsx)(un,{chartData:u,animationFinished:c,setAnimationFinished:a}):null,c?Object(fe.jsx)(Sn,{data:d,currentUser:n,linkedUser:t}):null]})},En=t(215),Nn=t(214),zn=t(67),Dn=t(54),Tn=function(){var e=Object(Se.a)(ke.a.mark((function e(n,t){var r,i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.userId=t,e.prev=1,e.next=4,fetch("/api/addExpense",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:return i=e.sent,e.abrupt("return",{data:i,response:r});case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n,t){return e.apply(this,arguments)}}(),In=function(e,n){return(n*e/100).toFixed(2)},qn=xe.a.div(F||(F=Object(oe.a)(["\n  background-color: #fff;\n  bottom: -50vh;\n  display: flex;\n  flex-direction: column;\n  height: 0vh;\n  justify-content: center;\n  padding: 10px;\n  position: fixed;\n  transition: 0.5s ease-in-out;\n  width: 100%;\n  z-index: 4;\n\n  @media (min-width: 768px) {\n    background-color: transparent;\n    border-radius: 15px;\n    left: 0;\n    margin: 0 auto;\n    right: 0;\n    width: 60%;\n  }\n"]))),Mn=xe.a.form(L||(L=Object(oe.a)(['\n  display: flex;\n  flex-direction: column;\n  font-family: "Roboto";\n  /* overflow-y: scroll; */\n\n  @media (min-width: 768px) {\n    align-items: center;\n    background-color: #fff;\n    height: 80%;\n    justify-content: center;\n  }\n']))),Pn=xe.a.div(A||(A=Object(oe.a)(['\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  & > textarea {\n    border: 2px solid #5cb6e2;\n    border-radius: 8px;\n    color: #38334ccc;\n    font-family: "Roboto";\n    font-size: 18px;\n    padding: 8px 12px;\n  }\n\n  @media (min-width: 768px) {\n    width: 75%;\n  }\n']))),_n=xe.a.input(J||(J=Object(oe.a)(['\n  border: 2px solid #5cb6e2;\n  border-radius: 10px;\n  color: #38334ccc;\n  font-size: 26px;\n  padding: 8px 12px;\n  /* width: inherit; */\n\n  ::placeholder {\n    font-family: "Roboto", sans-serif;\n  }\n\n  @media (min-width: 768px) {\n    &::placeholder {\n      text-align: center;\n    }\n  }\n']))),Fn=xe.a.div(V||(V=Object(oe.a)(["\n  align-items: center;\n  background-color: #fff;\n  color: #5cb6e2;\n  display: flex;\n  justify-content: space-evenly;\n  font-size: 28px;\n  font-weight: bold;\n  padding: 10px 12px;\n  text-transform: uppercase;\n"]))),Ln=xe.a.div(H||(H=Object(oe.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  width: 100%;\n"]))),An=xe.a.div(R||(R=Object(oe.a)(["\n  color: #38334ccc;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  font-size: 18px;\n  top: 0px;\n  right: 0px;\n  height: 100%;\n  padding: 8px;\n  width: 30%;\n"]))),Jn=function(e){var n=e.calculatedSplit;return Object(fe.jsx)(An,{children:n})},Vn=t(411),Hn=function(e){var n,t=e.currentUser,r=e.linkedUsers,i=e.style,c=Object(Y.useState)(!1),a=Object(te.a)(c,2),o=a[0],s=a[1],l=Object(Y.useState)(),d=Object(te.a)(l,2),u=d[0],p=d[1],j=Object(Y.useState)(""),x=Object(te.a)(j,2),b=x[0],f=x[1],h=Object(Y.useState)(50),O=Object(te.a)(h,2),v=O[0],g=O[1],m=Object(Y.useState)(!0),w=Object(te.a)(m,2),y=w[0],k=w[1],S=Object(Y.useState)(!1),C=Object(te.a)(S,2),U=C[0],E=C[1],N=Object(Y.useState)(""),z=Object(te.a)(N,2),D=z[0],T=z[1],I=Object(Y.useState)(0),q=Object(te.a)(I,2),M=q[0],P=q[1],_=Object(Y.useState)("text"),F=Object(te.a)(_,2),L=F[0],A=F[1],J=Object(Dn.d)(),V=J.register,H=J.handleSubmit,R=J.reset,$=J.getValues,B=J.formState.errors,X=Object(Y.useContext)(ae),K=X.menuToggle,G=X.setMenuToggle,Q=X.setData,W=function(){var e=Object(Se.a)(ke.a.mark((function e(n){var r,i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ln[Math.floor(Math.random()*ln.length)],n.cost=u,n.splitValue=v,n.initialCost=b,n.exLabelColor=r,""===D){e.next=10;break}return e.next=8,Tn(n,D._id);case 8:e.next=12;break;case 10:return e.next=12,Tn(n,t._id);case 12:return e.next=14,Ee(t._id);case 14:i=e.sent,Q(i),R(),g(50),p(null),k(!0),G(!K),f(""),A("text");case 23:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(e){!function(e){e.length<=0?k(!0):k(!1)}(e.target.value);var n=parseInt(e.target.value),t=In(n,50);p(t),f(e.target.value)};return Object(fe.jsx)(qn,{style:i,children:Object(fe.jsxs)(Mn,{id:"form",onSubmit:H((function(e){return W(e)})),children:[Object(fe.jsx)(fe.Fragment,{children:Object(fe.jsxs)(Pn,{children:[Object(fe.jsxs)(Fn,{children:[Object(fe.jsx)(mn,{disabled:y,toggled:o,name:"Modify Split",clicked:function(){return s(!o)}}),Object(fe.jsx)(mn,{name:D.userName||"Charge to other",toggled:U,clicked:function(){return E(!0),P((function(e){return e+1})),void T(r[M%2===0?1:0])}})]}),Object(fe.jsxs)(Ln,{children:[Object(fe.jsx)(_n,Object(zn.a)({type:"number",id:"number-input",inputMode:"numeric",placeholder:"Cost (required)",name:"cost",step:"0.01",onInput:function(e){return Z(e)}},V("cost",{required:!0}))),Object(fe.jsx)(Jn,{calculatedSplit:u})]}),"required"===(null===(n=B.cost)||void 0===n?void 0:n.type)&&"Cost is required",Object(fe.jsx)(Vn.a,{disabled:!o,onChange:function(e){return function(e){var n=$("cost"),t=In(e,n);p(t),g(e)}(e.target.value)},size:"medium",min:0,max:100,defaultValue:50,"aria-label":"sliderPercent",step:5,valueLabelDisplay:"auto",sx:{height:o?"8px":"0px",opacity:o?"1":"0",transition:"all 0.3s linear"}})]})}),Object(fe.jsx)(Pn,{children:Object(fe.jsx)(_n,Object(zn.a)({type:"text",id:"title-input",name:"title",placeholder:"Title"},V("title")))}),Object(fe.jsx)(Pn,{children:Object(fe.jsx)(_n,Object(zn.a)({type:L,id:"date-picker",name:"date",placeholder:"Date",onFocus:function(){return A("date")}},V("date")))}),Object(fe.jsx)(Pn,{children:Object(fe.jsx)("textarea",Object(zn.a)({cols:"15",rows:"2",id:"textarea-input",placeholder:"Description",name:"description"},V("description")))}),Object(fe.jsx)(ue,{variant:"contained",type:"submit",children:"Submit Expense"})]})})},Rn=xe.a.footer($||($=Object(oe.a)(["\n  bottom: 0px;\n  display: flex;\n  height: 6vh;\n  min-height: 30px;\n  position: absolute;\n  z-index: 4;\n  width: 100%;\n\n  @media (min-width: 768px) {\n    justify-content: center;\n    width: 75%;\n    left: 0;\n    right: 0;\n    margin: 0 auto;\n  }\n"]))),$n=xe.a.div(B||(B=Object(oe.a)(["\n  align-items: center;\n  background-color: #fff;\n  box-shadow: 0 -1px 4px rgb(0 0 0 / 12%), 0 1px 2px;\n  display: flex;\n  justify-content: space-between;\n  width: inherit;\n\n  & > div {\n    margin: 0 15px;\n  }\n"]))),Bn=function(e){var n=e.currentUser,t=e.linkedUsers,r=e.clicked,i=e.menuToggle,c=Object(ie.e)(),a=function(){var e;e="/history"===c.pathname||"/scheduler"===c.pathname?Nn.a:On.b;var n=function(){return"/history"===c.pathname?"#1976d2":"black"};return i?Object(fe.jsx)(hn,{color:n,IconName:e,size:30}):Object(fe.jsx)(hn,{color:n,IconName:e,size:30,LinkTo:"/history"===c.pathname||"/scheduler"===c.pathname?"/":"/history"})};return Object(fe.jsxs)(fe.Fragment,{children:[i?Object(fe.jsx)(Hn,{currentUser:n,linkedUsers:t,style:{height:"100%",bottom:"0%"}}):Object(fe.jsx)(Hn,{}),Object(fe.jsx)(Rn,{children:Object(fe.jsxs)($n,{children:[Object(fe.jsx)(a,{}),Object(fe.jsx)(hn,{IconName:En.a,size:30,activeColor:i,clicked:r})]})})]})},Xn=function(){var e=Object(Se.a)(ke.a.mark((function e(n){var t,r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/getLinkedUsers/".concat(n));case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log("Error in getUsers function",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),Kn=Xn,Gn=function(){var e=Object(Y.useState)(!1),n=Object(te.a)(e,2),t=n[0],r=n[1],i=Object(Y.useContext)(ce),c=tn(Ee),a=c.data,o=c.setData,s=c.request,l=tn(Kn),d=l.data,u=l.request,p=function(e,n){var t;if(n&&2===n.length)return n.forEach((function(n){n._id!==e&&(t=n)})),t}(i.user._id,d);return Object(Y.useEffect)((function(){s(null===i||void 0===i?void 0:i.user._id),u(null===i||void 0===i?void 0:i.user._id)}),[]),console.log("react router rendered..."),Object(fe.jsxs)(re.a,{children:[Object(fe.jsx)(he,{}),Object(fe.jsxs)(ie.c,{children:[Object(fe.jsx)(ie.a,{path:"/",element:Object(fe.jsx)(en,{data:a,setData:o,currentUser:null===i||void 0===i?void 0:i.user,linkedUser:p})}),Object(fe.jsx)(ie.a,{path:"/history",element:Object(fe.jsx)(Un,{currentUser:null===i||void 0===i?void 0:i.user,linkedUser:p})})]}),Object(fe.jsx)(ae.Provider,{value:{menuToggle:t,setMenuToggle:r,setData:o},children:Object(fe.jsx)(Bn,{currentUser:null===i||void 0===i?void 0:i.user,linkedUsers:d,clicked:function(){return r(!t)},menuToggle:t})})]})},Qn=(t(373),xe.a.div(X||(X=Object(oe.a)(['\n  position: absolute;\n  font-family: "Dancing Script", cursive;\n  left: 0;\n  right: 0;\n  font-size: 35px;\n  color: white;\n  margin-left: 0;\n  margin-right: 0;\n  width: 200px;\n  margin: 0 auto;\n  text-align: center;\n  top: 10%;\n'])))),Wn=xe.a.div(K||(K=Object(oe.a)(["\n  align-items: center;\n  display: flex;\n  background: linear-gradient(\n    58deg,\n    rgba(165, 112, 215, 1) 0%,\n    rgba(105, 105, 218, 1) 53%,\n    rgba(57, 176, 200, 1) 100%\n  );\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n"]))),Yn=xe.a.form(G||(G=Object(oe.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80%;\n\n  div {\n    margin: 10px 0px;\n  }\n\n  div > input:focus-visible {\n    border: 2px solid #cf82fb;\n    outline: none;\n  }\n\n  button {\n    font-size: 18px;\n    margin-top: 10px;\n  }\n\n  @media (min-width: 768px) {\n    width: 40%;\n  }\n"]))),Zn=function(){var e=Object(Se.a)(ke.a.mark((function e(n){var t,r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.prev=1,e.next=4,fetch("/api/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return r=e.sent,e.abrupt("return",{data:r,response:t});case 11:e.prev=11,e.t0=e.catch(1),console.log("Error in login function > auth.js",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),et=function(){var e=Object(Se.a)(ke.a.mark((function e(){var n,t,r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={password:"demo123",username:"demo"},e.prev=1,e.next=4,fetch("/api/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return r=e.sent,e.abrupt("return",{data:r,response:t});case 11:e.prev=11,e.t0=e.catch(1),console.log("Error in login function > auth.js",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),nt=t(122),tt=nt.a().shape({username:nt.b().required("Username is required"),password:nt.b().min(4,"Password must contain at least 4 characters").required("Password is required")}),rt=t(221),it=xe.a.div(Q||(Q=Object(oe.a)(["\n  //only displays if not on mobile\n  display: none;\n  @media (min-width: 768px) {\n    display: flex;\n    padding: 10px 10px 30px 10px;\n\n    p {\n      color: #fff;\n      font-size: 1.2rem;\n      font-weight: bold;\n    }\n  }\n"]))),ct=xe.a.p(W||(W=Object(oe.a)(["\n  color: #d10000;\n  margin-top: 5px;\n  text-align: center;\n"]))),at=function(){var e,n,t=Object(Y.useState)(!1),r=Object(te.a)(t,2),i=r[0],c=r[1],a=Object(Y.useContext)(ce),o=Object(Dn.d)({resolver:Object(rt.a)(tt)}),s=o.register,l=o.handleSubmit,d=o.formState.errors,u=function(){var e=Object(Se.a)(ke.a.mark((function e(n){var t,r,i;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zn(n);case 2:t=e.sent,r=t.response,i=t.data,r.ok&&(localStorage.setItem("user",JSON.stringify(i)),a.setUser(i)),r.ok||c(!0);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=Object(Se.a)(ke.a.mark((function e(){var n,t,r;return ke.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,et();case 2:n=e.sent,t=n.response,r=n.data,t.ok&&(localStorage.setItem("user",JSON.stringify(r)),a.setUser(r)),t.ok||c(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(fe.jsxs)(Wn,{children:[Object(fe.jsx)(Qn,{children:Object(fe.jsx)("h1",{children:"Tally"})}),Object(fe.jsx)(it,{children:Object(fe.jsx)("p",{children:"Hello! This website is best views on a mobile device"})}),i?Object(fe.jsx)(ct,{children:"Invalid login"}):null,Object(fe.jsxs)(Yn,{onSubmit:l(u),children:[Object(fe.jsxs)(Ln,{children:[Object(fe.jsx)(_n,Object(zn.a)({type:"text",placeholder:"Username",name:"username"},s("username"))),Object(fe.jsx)(ct,{children:null===(e=d.username)||void 0===e?void 0:e.message})]}),Object(fe.jsxs)(Ln,{children:[Object(fe.jsx)(_n,Object(zn.a)({type:"password",placeholder:"Password",name:"password"},s("password"))),Object(fe.jsx)(ct,{children:null===(n=d.password)||void 0===n?void 0:n.message})]}),Object(fe.jsx)(ue,{type:"submit",children:"Log In"}),Object(fe.jsx)(ue,{onClick:function(){return p()},children:"Demo"})]})]})};var ot=function(){var e=Object(Y.useState)(),n=Object(te.a)(e,2),t=n[0],r=n[1],i=tn(Kn),c=i.data,a=i.request,o=localStorage.getItem("user"),s=JSON.parse(o);return Object(Y.useEffect)((function(){if(o){var e=JSON.parse(o);r(e),a(s._id)}}),[]),Object(fe.jsx)(ce.Provider,{value:{user:t,setUser:r,linkedUsers:c},children:Object(fe.jsx)("div",{className:"App",children:t?Object(fe.jsx)(Gn,{}):Object(fe.jsx)(at,{})})})};ne.a.render(Object(fe.jsx)(Z.a.StrictMode,{children:Object(fe.jsx)(ot,{})}),document.getElementById("root"))}},[[384,1,2]]]);
//# sourceMappingURL=main.a2274073.chunk.js.map