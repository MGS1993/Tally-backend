(this.webpackJsonptally=this.webpackJsonptally||[]).push([[0],{29:function(e,t,n){e.exports={appTitleWrapper:"LoginPage_appTitleWrapper__3T6m2",mainWrapper:"LoginPage_mainWrapper__sEUSR",formWrapper:"LoginPage_formWrapper__2bVHB",inputWrapper:"LoginPage_inputWrapper__2v8NI",loginInput:"LoginPage_loginInput__3zld-",loginSubmit:"LoginPage_loginSubmit__3p4-N"}},44:function(e,t,n){e.exports={mainWrapper:"NavFooter_mainWrapper__3fp08",secondaryWrapper:"NavFooter_secondaryWrapper__3fHZ1"}},45:function(e,t,n){e.exports={formWrapper:"Menu_formWrapper__2pZop"}},68:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r,a,c,i,s,o,l,d,u,p,j,b,x,f,h,O,g,v,m,y,w,k,S,C,N=n(1),_=n.n(N),E=n(47),T=n.n(E),W=(n(68),n(6)),D=n(57),I=n(9),U=_.a.createContext(),z=n(2),P={alignItems:"center",backgroundColor:"dodgerblue",color:"white",display:"flex",height:"6%",justifyContent:"center",minHeight:"38px"},M=function(){return Object(z.jsx)("div",{style:P,children:Object(z.jsx)("h1",{children:"Tally"})})},q={alignItems:"center",display:"flex",flex:"1",flexDirection:"column",margin:"10px",textAlign:"center",height:"100%",justifyContent:"center"},L={alignItems:"center",alignSelf:"center",backgroundColor:"white",borderRadius:"5px",boxShadow:"0 4px 8px 0 rgba(0,0,0,0.2)",display:"flex",justifyContent:"center",marginTop:"25px",padding:"10px",width:"80vw"},A={color:"gray",fontSize:"14px",minHeight:"32px",textTransform:"capitalize"},F={color:"red",fontSize:"28px",fontWeight:"bold",marginTop:"10%"},V={color:"green",fontSize:"28px",fontWeight:"bold",marginTop:"10%"},J=function(e){var t=e.data,n=e.userName,r=(null===t||void 0===t?void 0:t.calculatedUserExpenses)-(null===t||void 0===t?void 0:t.calculatedOtherUserExpenses);return Object(z.jsxs)("div",{style:L,children:[Object(z.jsxs)("div",{style:q,children:[Object(z.jsx)("p",{style:A,children:"".concat(n,"'s Expenses")}),Object(z.jsxs)("div",{style:V,children:[null===t||void 0===t?void 0:t.calculatedUserExpenses," "]})]}),Object(z.jsxs)("div",{style:q,children:[Object(z.jsx)("p",{style:A,children:"Balance"}),Object(z.jsx)("div",{id:"difference",style:r<0?F:V,children:r||0})]}),Object(z.jsxs)("div",{style:q,children:[Object(z.jsx)("p",{style:A,children:"".concat("manuel"===n?"victoria":"manuel","'s Expenses")}),Object(z.jsx)("div",{style:V,children:null===t||void 0===t?void 0:t.calculatedOtherUserExpenses})]})]})},H=n(5),R=n.n(H),B=n(15),X=n(13),Z=function(){var e=Object(B.a)(R.a.mark((function e(t,n){var r,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/deleteExpense/".concat(t,"/").concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,console.log(a),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log("error in delete expense function:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),$=function(){var e=Object(B.a)(R.a.mark((function e(t){var n,r,a,c,i,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,fetch("/api/getExpenses/".concat(t));case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,a=r.userExpenses,c=r.otherUserExpenses,i=r.calculatedUserExpenses,s=r.calculatedOtherUserExpenses,e.abrupt("return",{userExpenses:a,otherUserExpenses:c,calculatedUserExpenses:i,calculatedOtherUserExpenses:s});case 13:e.prev=13,e.t0=e.catch(2),console.log("Error in getExpense function:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),G=n(92),K=n(99),Q=function(e){var t=Object(G.a)(e);return Object(K.a)(new Date(t),"MMMM do")},Y=n(10),ee=n(11),te=ee.a.div(r||(r=Object(Y.a)(["\n  background-color: white;\n  border: 1px solid #c9c9c9c9;\n  border-radius: 6px;\n  display: flex;\n  flex: 0 0 100px;\n  margin: 10px 0px;\n  padding: 12px 2px;\n  width: 85vw;\n"]))),ne=ee.a.div(a||(a=Object(Y.a)(["\n  align-items: center;\n  display: flex;\n  flex-basis: 30%;\n  flex-direction: column;\n  position: relative;\n"]))),re=ee.a.div(c||(c=Object(Y.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  justify-content: center;\n\n  & > p {\n    color: green;\n    font-size: 1.6rem;\n  }\n"]))),ae=ee.a.div(i||(i=Object(Y.a)(["\n  color: #808080;\n  text-align: center;\n  text-transform: capitalize;\n  position: absolute;\n"]))),ce=ee.a.div(s||(s=Object(Y.a)(["\n  display: flex;\n  flex-basis: 70%;\n  flex-direction: column;\n"]))),ie=ee.a.div(o||(o=Object(Y.a)(["\n  //placeholder color\n  align-items: center;\n  background-color: ",";\n  border-radius: 8px;\n  color: white;\n  display: flex;\n  font-size: 1.4rem;\n  min-height: 40px;\n  justify-content: center;\n  position: relative;\n  text-align: center;\n"])),(function(e){var t=e.toggle,n=e.colorAccent;return 1===t?"white":n})),se=ee.a.div(l||(l=Object(Y.a)(["\n  max-width: 70%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),oe=ee.a.div(d||(d=Object(Y.a)(["\n  border-radius: 8px;\n  display: flex;\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #ff6640;\n  transform: scaleX(0);\n  transform-origin: 0 50%;\n  transition-property: transform;\n  transition-duration: 0.5s;\n  transition-timing-function: ease-out;\n\n  ","\n  //delete and cancel button post animation\n  & > div:first-child {\n    align-items: center;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    width: 100%;\n  }\n"])),(function(e){return e.toggle&&"\n      transform: scaleX(1);\n      transition-timing-function: cubic-bezier(0.52, 1.64, 0.37, 0.66);\n  "})),le=ee.a.div(u||(u=Object(Y.a)(["\n  position: absolute;\n  height: 22px;\n  width: 22px;\n  left: 5px;\n"]))),de=ee.a.div(p||(p=Object(Y.a)(["\n  & > :first-child {\n    /* grey is color placeholder */\n    color: grey;\n  }\n"]))),ue=ee.a.div(j||(j=Object(Y.a)(["\n  display: flex;\n  flex-basis: 40%;\n  justify-content: space-evenly;\n\n  & > div {\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n"]))),pe=ee.a.div(b||(b=Object(Y.a)(["\n  color: #6e6e6e;\n  flex-basis: 60%;\n  min-height: 65px;\n  padding: 8px 4px;\n  overflow: scroll;\n"]))),je=ee.a.div(x||(x=Object(Y.a)(["\n  align-self: center;\n  border-left: 1px solid grey;\n  display: flex;\n  height: 90%;\n  width: 8px;\n"]))),be=n(54),xe=ee.a.button(f||(f=Object(Y.a)(["\n  border: 0px solid white;\n  border-radius: 11px;\n  background-color: transparent;\n  height: 100%;\n  width: 100%;\n\n  & > :first-child {\n    height: 100%;\n    width: 100%;\n  }\n"]))),fe=function(e){var t=e.onClick;return Object(z.jsx)(xe,{onClick:t,children:Object(z.jsx)(be.a,{color:"white"})})},he=n(18),Oe=n(100),ge=Object(he.a)(Oe.a)(h||(h=Object(Y.a)(["\n  align-self: center;\n  color: white;\n  font-weight: bold;\n  /* padding: 0px; */\n  /* width: 90%; */\n"]))),ve=Object(he.a)(ge)(O||(O=Object(Y.a)(["\n  /* padding: 0; */\n"]))),me=function(e){var t=e.cost,n=e.title,r=e.date,a=e.description,c=e.clicked,i=e.ownerName,s=e.splitValue,o=e.initialCost,l=e.colorAccent,d=Object(N.useState)(!1),u=Object(W.a)(d,2),p=u[0],j=u[1];return Object(z.jsxs)(te,{children:[Object(z.jsxs)(ne,{children:[Object(z.jsx)(ae,{children:Object(z.jsxs)("p",{children:["-",i,"-"]})}),Object(z.jsx)(re,{children:Object(z.jsxs)("p",{children:["$",t]})})]}),Object(z.jsx)(je,{}),Object(z.jsxs)(ce,{children:[Object(z.jsxs)(ie,{colorAccent:l,toggle:p?1:0,children:[Object(z.jsx)(oe,{toggle:p?1:0,children:Object(z.jsxs)("div",{children:[Object(z.jsx)(ve,{onClick:c,children:"Delete"}),Object(z.jsx)(ve,{onClick:function(){return j(!1)},children:"Cancel"})]})}),p?null:Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(le,{children:Object(z.jsx)(fe,{onClick:function(){return j(!0)}})}),Object(z.jsx)(se,{children:(null===n||void 0===n?void 0:n.length)>1?n:"No Title"})]})]}),Object(z.jsx)(pe,{children:(null===a||void 0===a?void 0:a.length)>1?a:"No description provided"}),Object(z.jsxs)(ue,{children:[Object(z.jsxs)(de,{children:[Object(z.jsx)("div",{children:"Date"}),Object(z.jsx)("div",{children:Q(r)})]}),Object(z.jsx)(je,{}),Object(z.jsxs)(de,{children:[Object(z.jsx)("div",{children:"split by"}),Object(z.jsxs)("div",{children:[s,"%"]})]}),Object(z.jsx)(je,{}),Object(z.jsxs)(de,{children:[Object(z.jsx)("div",{children:"Total"}),Object(z.jsxs)("div",{children:["$",o]})]})]})]})]})},ye=["dodgerblue","#f95959","#3fba37","#a037baf0","#0c8065f0","#8e1ac8f0"],we=n(102),ke={alignItems:"center",paddingTop:"20px"},Se={alignItems:"center",display:"flex",flexDirection:"column",maxHeight:"65vh",overflow:"scroll"},Ce=function(e){var t=e.data,n=e.userId,r=e.setData,a=[],c=function(e,t,n){if(void 0!==e&&void 0!==t){var r=[].concat(Object(X.a)(e),Object(X.a)(t));return"descending"===n&&r.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),r}}(null===t||void 0===t?void 0:t.userExpenses,null===t||void 0===t?void 0:t.otherUserExpenses,"descending"),i=function(){var e=Object(B.a)(R.a.mark((function e(t,n){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(t,n);case 2:return e.next=4,$(t);case 4:a=e.sent,r(a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return null===c||void 0===c||c.forEach((function(e,t){a.push(Object(z.jsx)(me,{cost:e.cost,title:e.title,date:e.date,description:e.description,ownerName:e.ownerName,splitValue:e.splitValue,initialCost:e.initialCost,clicked:function(){return i(n,e._id)},colorAccent:ye[t]},Object(we.a)()))})),Object(z.jsx)("div",{style:ke,children:Object(z.jsx)("div",{style:Se,children:a})})},Ne={display:"flex",flexDirection:"column",flex:"1"},_e=function(e){var t=e.data,n=e.setData,r=Object(N.useContext)(U);return Object(z.jsxs)("div",{style:Ne,children:[Object(z.jsx)(J,{data:t,userName:null===r||void 0===r?void 0:r.user.userName}),Object(z.jsx)(Ce,{data:t,userId:null===r||void 0===r?void 0:r.user._id,userName:null===r||void 0===r?void 0:r.user.userName,setData:n})]})},Ee=n(44),Te=n.n(Ee),We=n(56),De=function(e){var t=e.size,n=void 0===t?"20px":t,r=e.backgroundColor,a=void 0===r?"white":r,c=e.iconColor,i=void 0===c?"black":c,s=e.IconName;return Object(z.jsx)("div",{style:{display:"flex",width:n,height:n,borderRadius:parseInt(n)/2,backgroundColor:a,justifyContent:"center",alignItems:"center"},children:Object(z.jsx)(s,{color:i,size:n})})},Ie=n(31),Ue=n(45),ze=n.n(Ue),Pe=n(38),Me=function(){var e=Object(B.a)(R.a.mark((function e(t,n){var r,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.userId=n,e.prev=1,e.next=4,fetch("/api/addExpense",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",{data:a,response:r});case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),qe=function(e,t){return(t*e/100).toFixed(2)},Le=ee.a.div(g||(g=Object(Y.a)(["\n  background-color: #fff;\n  bottom: -50vh;\n  display: flex;\n  flex-direction: column;\n  height: 0vh;\n  justify-content: center;\n  position: fixed;\n  transition: 0.5s ease-in-out;\n  width: 100%;\n  z-index: 4;\n"]))),Ae=ee.a.form(v||(v=Object(Y.a)(['\n  display: flex;\n  flex-direction: column;\n  font-family: "Roboto";\n  overflow-y: scroll;\n  /* margin: 20% 0px; */\n']))),Fe=ee.a.div(m||(m=Object(Y.a)(['\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  & > textarea {\n    border: 2px solid #5cb6e2;\n    color: #38334ccc;\n    font-family: "Roboto";\n    font-size: 18px;\n    padding: 8px 12px;\n  }\n']))),Ve=ee.a.input(y||(y=Object(Y.a)(["\n  border: 2px solid #5cb6e2;\n  color: #38334ccc;\n  font-size: 26px;\n  padding: 8px 12px;\n  width: inherit;\n"]))),Je=ee.a.div(w||(w=Object(Y.a)(["\n  align-items: center;\n  background-color: #f0f9fe;\n  color: #5cb6e2;\n  display: flex;\n  justify-content: space-between;\n  font-size: 28px;\n  font-weight: bold;\n  padding: 10px 12px;\n  text-transform: uppercase;\n"]))),He=ee.a.div(k||(k=Object(Y.a)(["\n  display: flex;\n  position: relative;\n  width: 100%;\n"]))),Re=ee.a.div(S||(S=Object(Y.a)(["\n  color: #38334ccc;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  font-size: 18px;\n  top: 0px;\n  right: 0px;\n  height: 100%;\n  padding: 8px;\n  width: 30%;\n"]))),Be=function(e){var t=e.calculatedSplit;return Object(z.jsx)(Re,{children:t})},Xe=ee.a.button(C||(C=Object(Y.a)(["\n  align-items: center;\n  background-color: ",";\n  border: 0px;\n  border-radius: 12px;\n  color: white;\n  display: flex;\n  justify-content: center;\n  font-size: 12px;\n  padding: 8px;\n  transition: background-color 0.4s ease;\n\n  & > div {\n    padding: 4px;\n  }\n"])),(function(e){return e.toggled?"dodgerblue":"#bdbdbd"})),Ze=function(e){var t=e.clicked,n=e.disabled,r=e.name,a=e.toggled;return Object(z.jsx)(Xe,{type:"button",disabled:n,toggled:a,onClick:t,children:Object(z.jsx)("div",{children:r})})},$e=n(101),Ge=function(e){var t,n=e.allUsers,r=e.setData,a=e.setMenuToggle,c=e.menuToggle,i=e.style,s=Object(N.useContext)(U),o=Object(N.useState)(!1),l=Object(W.a)(o,2),d=l[0],u=l[1],p=Object(N.useState)(),j=Object(W.a)(p,2),b=j[0],x=j[1],f=Object(N.useState)(""),h=Object(W.a)(f,2),O=h[0],g=h[1],v=Object(N.useState)(50),m=Object(W.a)(v,2),y=m[0],w=m[1],k=Object(N.useState)(!0),S=Object(W.a)(k,2),C=S[0],_=S[1],E=Object(N.useState)(!1),T=Object(W.a)(E,2),D=T[0],I=T[1],P=Object(N.useState)(""),M=Object(W.a)(P,2),q=M[0],L=M[1],A=Object(N.useState)(0),F=Object(W.a)(A,2),V=F[0],J=F[1],H=Object(Pe.a)(),X=H.register,Z=H.handleSubmit,G=H.reset,K=H.getValues,Q=H.formState.errors,Y=function(){var e=Object(B.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.cost=b,t.splitValue=y,t.initialCost=O,console.log(t),""===q){e.next=9;break}return e.next=7,Me(t,q._id);case 7:e.next=11;break;case 9:return e.next=11,Me(t,s.user._id);case 11:return e.next=13,$(s.user._id);case 13:n=e.sent,r(n),G(),w(50),x(null),_(!0),a(!c),g("");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(e){!function(e){e.length<=0?_(!0):_(!1)}(e.target.value);var t=parseInt(e.target.value),n=qe(t,50);x(n),g(e.target.value)};return Object(z.jsx)(Le,{style:i,children:Object(z.jsxs)(Ae,{id:"form",onSubmit:Z((function(e){return Y(e)})),children:[Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)(Fe,{children:[Object(z.jsxs)(Je,{children:["Cost",Object(z.jsx)(Ze,{disabled:C,toggled:d,name:"Modify Split",clicked:function(){return u(!d)}}),Object(z.jsx)(Ze,{name:q.userName||"Charge to other",toggled:D,clicked:function(){return I(!0),J((function(e){return e+1})),void L(n[V%2===0?1:0])}})]}),Object(z.jsxs)(He,{children:[Object(z.jsx)(Ve,Object(Ie.a)({type:"number",id:"number-input",inputMode:"numeric",placeholder:"Cost (required)",name:"cost",onInput:function(e){return ee(e)}},X("cost",{required:!0}))),Object(z.jsx)(Be,{calculatedSplit:b})]}),"required"===(null===(t=Q.cost)||void 0===t?void 0:t.type)&&"Cost is required",Object(z.jsx)($e.a,{disabled:!d,onChange:function(e){return function(e){var t=K("cost"),n=qe(e,t);x(n),w(e)}(e.target.value)},size:"medium",min:0,max:100,defaultValue:50,"aria-label":"sliderPercent",step:5,valueLabelDisplay:"auto",sx:{height:d?"8px":"0px",opacity:d?"1":"0",transition:"all 0.3s linear"}})]})}),Object(z.jsxs)(Fe,{className:ze.a.titleWrapper,children:[Object(z.jsx)(Je,{children:"Title"}),Object(z.jsx)(Ve,Object(Ie.a)({type:"text",id:"title-input",name:"title",placeholder:"Title"},X("title")))]}),Object(z.jsxs)(Fe,{className:ze.a.dateWrapper,children:[Object(z.jsx)(Je,{children:"Date"}),Object(z.jsx)(Ve,Object(Ie.a)({type:"date",id:"date-picker",name:"date"},X("date")))]}),Object(z.jsx)(Fe,{children:Object(z.jsx)("textarea",Object(Ie.a)({cols:"15",rows:"2",id:"textarea-input",placeholder:"Description",name:"description"},X("description")))}),Object(z.jsx)(ge,{variant:"contained",type:"submit",children:"Submit Expense"})]})})},Ke=function(e){var t=e.allUsers,n=e.clicked,r=e.menuToggle,a=e.setMenuToggle,c=e.setData;return Object(z.jsxs)(z.Fragment,{children:[r?Object(z.jsx)(Ge,{allUsers:t,setData:c,menuToggle:r,setMenuToggle:a,style:{height:"100%",bottom:"0%"}}):Object(z.jsx)(Ge,{}),Object(z.jsx)("div",{id:"burger",className:Te.a.mainWrapper,children:Object(z.jsx)("div",{className:Te.a.secondaryWrapper,children:Object(z.jsx)("div",{onClick:n,children:Object(z.jsx)(De,{IconName:We.a,size:30})})})})]})},Qe=function(e){var t=Object(N.useState)([]),n=Object(W.a)(t,2),r=n[0],a=n[1],c=Object(N.useState)(!1),i=Object(W.a)(c,2),s=i[0],o=i[1],l=Object(N.useState)(!1),d=Object(W.a)(l,2),u=d[0],p=d[1],j=function(){var t=Object(B.a)(R.a.mark((function t(){var n,r=arguments;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(!0),t.next=4,e.apply(void 0,r);case 4:n=t.sent,p(!1),o(!1),a(n),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),console.log("error in useAPi hook:",t.t0),t.abrupt("return",o(!0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return{data:r,setData:a,error:s,loading:u,request:j}},Ye=function(){var e=Object(B.a)(R.a.mark((function e(){var t,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/getAllUsers");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.log("Error in getUsers function",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),et=Ye,tt=function(){var e=Object(N.useState)(!1),t=Object(W.a)(e,2),n=t[0],r=t[1],a=Object(N.useContext)(U),c=Qe($),i=c.data,s=c.setData,o=c.request,l=Qe(et),d=l.data,u=l.request;return Object(N.useEffect)((function(){o(null===a||void 0===a?void 0:a.user._id),u()}),[]),Object(z.jsxs)(D.a,{children:[Object(z.jsx)(M,{}),Object(z.jsx)(I.c,{children:Object(z.jsx)(I.a,{path:"/",element:Object(z.jsx)(_e,{data:i,setData:s})})}),Object(z.jsx)(Ke,{allUsers:d,clicked:function(){return r(!n)},menuToggle:n,setMenuToggle:r,setData:s})]})},nt=(n(77),n(29)),rt=n.n(nt),at=function(){var e=Object(B.a)(R.a.mark((function e(t){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/login",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",{data:r,response:n});case 10:e.prev=10,e.t0=e.catch(0),console.log("Error in login function > auth.js",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=Object(N.useContext)(U),t=Object(Pe.a)(),n=t.register,r=t.handleSubmit,a=function(){var t=Object(B.a)(R.a.mark((function t(n){var r,a,c;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at(n);case 2:r=t.sent,a=r.response,c=r.data,200===a.status&&(console.log("Successfully logged in"),localStorage.setItem("user",JSON.stringify(c)),e.setUser(c));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(z.jsxs)("div",{className:rt.a.mainWrapper,children:[Object(z.jsx)("div",{className:rt.a.appTitleWrapper,children:Object(z.jsx)("h1",{children:"Tally"})}),Object(z.jsxs)("form",{className:rt.a.formWrapper,onSubmit:r(a),children:[Object(z.jsxs)("div",{className:rt.a.inputWrapper,children:[Object(z.jsx)("label",{htmlFor:"username",children:"Username"}),Object(z.jsx)("input",Object(Ie.a)({className:rt.a.loginInput,type:"text",placeholder:"Username",name:"username"},n("username",{required:!0})))]}),Object(z.jsxs)("div",{className:rt.a.inputWrapper,children:[Object(z.jsx)("label",{htmlFor:"password",children:"Password"}),Object(z.jsx)("input",Object(Ie.a)({className:rt.a.loginInput,type:"password",placeholder:"Password",name:"password"},n("password",{required:!0})))]}),Object(z.jsx)("input",{className:rt.a.loginSubmit,type:"submit",value:"Login"})]})]})};var it=function(){var e=Object(N.useState)(),t=Object(W.a)(e,2),n=t[0],r=t[1];return Object(N.useEffect)((function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);r(t)}}),[]),Object(z.jsx)(U.Provider,{value:{user:n,setUser:r},children:Object(z.jsx)("div",{className:"App",children:n?Object(z.jsx)(tt,{}):Object(z.jsx)(ct,{})})})};T.a.render(Object(z.jsx)(_.a.StrictMode,{children:Object(z.jsx)(it,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.03b823a6.chunk.js.map