(this.webpackJsonptally=this.webpackJsonptally||[]).push([[0],{148:function(e,n,t){e.exports={formWrapper:"Menu_formWrapper__2pZop"}},238:function(e,n,t){},374:function(e,n,t){},385:function(e,n,t){"use strict";t.r(n);var r,i,c,a,s,o,l,d,u,p,j,x,b,f,h,O,v,g,m,y,w,k,S,C,U,E,N,D,T,z,I,M,_,q,A,F,H,J,L,P,V=t(1),W=t.n(V),R=t(91),B=t.n(R),X=(t(238),t(5)),$=t(93),K=t(20),Z=W.a.createContext(),G=t(10),Q=t(34),Y=t(411),ee=Object(Q.a)(Y.a)(r||(r=Object(G.a)(["\n  align-self: center;\n  color: white;\n  font-weight: bold;\n  /* padding: 0px; */\n  /* width: 90%; */\n"]))),ne=Object(Q.a)(ee)(i||(i=Object(G.a)(["\n  padding: 10px;\n  width: 90%;\n"]))),te=Object(Q.a)(ee)(c||(c=Object(G.a)(["\n  height: 35px;\n  left: 0;\n  position: absolute;\n\n  & > :first-child {\n    height: 100%;\n    width: 100%;\n  }\n"]))),re=t(197),ie=t(2),ce={alignItems:"center",backgroundColor:"dodgerblue",color:"white",display:"flex",height:"6%",justifyContent:"center",minHeight:"38px",position:"relative"},ae=function(){var e=Object(V.useContext)(Z);return Object(ie.jsxs)("div",{style:ce,children:[Object(ie.jsx)(te,{onClick:function(){return localStorage.removeItem("user"),void e.setUser(null)},children:Object(ie.jsx)(re.a,{color:"white"})}),Object(ie.jsx)("h1",{children:"Tally"})]})},se={alignItems:"center",display:"flex",flex:"1",flexDirection:"column",margin:"10px",textAlign:"center",height:"100%",justifyContent:"center"},oe={alignItems:"center",alignSelf:"center",backgroundColor:"white",borderRadius:"5px",boxShadow:"0 4px 8px 0 rgba(0,0,0,0.2)",display:"flex",justifyContent:"center",marginTop:"25px",padding:"10px",width:"80vw"},le={color:"gray",fontSize:"14px",minHeight:"32px",textTransform:"capitalize"},de={color:"red",fontSize:"28px",fontWeight:"bold",marginTop:"10%"},ue={color:"green",fontSize:"28px",fontWeight:"bold",marginTop:"10%"},pe=function(e){var n=e.data,t=e.currentUser,r=e.linkedUser,i=(null===n||void 0===n?void 0:n.calculatedUserExpenses)-(null===n||void 0===n?void 0:n.calculatedOtherUserExpenses);return Object(ie.jsxs)("div",{style:oe,children:[Object(ie.jsxs)("div",{style:se,children:[Object(ie.jsx)("p",{style:le,children:"".concat(t,"'s Expenses")}),Object(ie.jsxs)("div",{style:ue,children:[null===n||void 0===n?void 0:n.calculatedUserExpenses," "]})]}),Object(ie.jsxs)("div",{style:se,children:[Object(ie.jsx)("p",{style:le,children:"Balance"}),Object(ie.jsx)("div",{id:"difference",style:i<0?de:ue,children:i||0})]}),Object(ie.jsxs)("div",{style:se,children:[Object(ie.jsx)("p",{style:le,children:"".concat(r,"'s Expenses")}),Object(ie.jsx)("div",{style:ue,children:null===n||void 0===n?void 0:n.calculatedOtherUserExpenses})]})]})},je=t(12),xe=t.n(je),be=t(26),fe=t(15),he=function(){var e=Object(be.a)(xe.a.mark((function e(n,t){var r,i;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/deleteExpense/".concat(n,"/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:return i=e.sent,console.log(i),e.abrupt("return",i);case 11:e.prev=11,e.t0=e.catch(0),console.log("error in delete expense function:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(be.a)(xe.a.mark((function e(n){var t,r,i,c,a,s;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,fetch("/api/getExpenses/".concat(n));case 5:return t=e.sent,e.next=8,t.json();case 8:return r=e.sent,i=r.userExpenses,c=r.otherUserExpenses,a=r.calculatedUserExpenses,s=r.calculatedOtherUserExpenses,e.abrupt("return",{userExpenses:i,otherUserExpenses:c,calculatedUserExpenses:a,calculatedOtherUserExpenses:s});case 13:e.prev=13,e.t0=e.catch(2),console.log("Error in getExpense function:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(be.a)(xe.a.mark((function e(){var n,t;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("historical expenses called."),e.prev=1,e.next=4,fetch("/api/getHistoricalExpenses");case 4:return n=e.sent,e.next=7,n.json();case 7:return t=e.sent,e.abrupt("return",t);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),ge=t(405),me=t(410),ye=function(e){var n=Object(ge.a)(e);return Object(me.a)(new Date(n),"MMMM do")},we=t(13),ke=we.a.div(a||(a=Object(G.a)(["\n  background-color: white;\n  border: 1px solid #c9c9c9c9;\n  border-radius: 6px;\n  display: flex;\n  flex: 0 0 100px;\n  margin: 10px 0px;\n  padding: 12px 2px;\n  width: 85vw;\n"]))),Se=we.a.div(s||(s=Object(G.a)(["\n  align-items: center;\n  display: flex;\n  flex-basis: 30%;\n  flex-direction: column;\n  position: relative;\n"]))),Ce=we.a.div(o||(o=Object(G.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  justify-content: center;\n\n  & > p {\n    color: green;\n    font-size: 1.6rem;\n  }\n"]))),Ue=we.a.div(l||(l=Object(G.a)(["\n  color: #808080;\n  text-align: center;\n  text-transform: capitalize;\n  position: absolute;\n"]))),Ee=we.a.div(d||(d=Object(G.a)(["\n  display: flex;\n  flex-basis: 70%;\n  flex-direction: column;\n"]))),Ne=we.a.div(u||(u=Object(G.a)(["\n  //placeholder color\n  align-items: center;\n  background-color: ",";\n  border-radius: 8px;\n  color: white;\n  display: flex;\n  font-size: 1.4rem;\n  min-height: 40px;\n  justify-content: center;\n  position: relative;\n  text-align: center;\n"])),(function(e){var n=e.toggle,t=e.colorAccent;return 1===n?"white":t})),De=we.a.div(p||(p=Object(G.a)(["\n  max-width: 70%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),Te=we.a.div(j||(j=Object(G.a)(["\n  border-radius: 8px;\n  display: flex;\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #ff6640;\n  transform: scaleX(0);\n  transform-origin: 0 50%;\n  transition-property: transform;\n  transition-duration: 0.5s;\n  transition-timing-function: ease-out;\n\n  ","\n  //delete and cancel button post animation\n  & > div:first-child {\n    align-items: center;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    width: 100%;\n  }\n"])),(function(e){return e.toggle&&"\n      transform: scaleX(1);\n      transition-timing-function: cubic-bezier(0.52, 1.64, 0.37, 0.66);\n  "})),ze=we.a.div(x||(x=Object(G.a)(["\n  position: absolute;\n  height: 22px;\n  width: 22px;\n  left: 5px;\n"]))),Ie=we.a.div(b||(b=Object(G.a)(["\n  & > :first-child {\n    /* grey is color placeholder */\n    color: grey;\n  }\n"]))),Me=we.a.div(f||(f=Object(G.a)(["\n  display: flex;\n  flex-basis: 40%;\n  justify-content: space-evenly;\n\n  & > div {\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n"]))),_e=we.a.div(h||(h=Object(G.a)(["\n  color: #6e6e6e;\n  flex-basis: 60%;\n  min-height: 65px;\n  padding: 8px 4px;\n  overflow: scroll;\n"]))),qe=we.a.div(O||(O=Object(G.a)(["\n  align-self: center;\n  border-left: 1px solid grey;\n  display: flex;\n  height: 90%;\n  width: 8px;\n"]))),Ae=t(198),Fe=we.a.button(v||(v=Object(G.a)(["\n  border: 0px solid white;\n  border-radius: 11px;\n  background-color: transparent;\n  height: 100%;\n  width: 100%;\n\n  & > :first-child {\n    height: 100%;\n    width: 100%;\n  }\n"]))),He=function(e){var n=e.onClick;return Object(ie.jsx)(Fe,{onClick:n,children:Object(ie.jsx)(Ae.a,{color:"white"})})},Je=function(e){var n=e.cost,t=e.title,r=e.date,i=e.description,c=e.clicked,a=e.ownerName,s=e.splitValue,o=e.initialCost,l=e.colorAccent,d=Object(V.useState)(!1),u=Object(X.a)(d,2),p=u[0],j=u[1];return Object(ie.jsxs)(ke,{children:[Object(ie.jsxs)(Se,{children:[Object(ie.jsx)(Ue,{children:Object(ie.jsxs)("p",{children:["-",a,"-"]})}),Object(ie.jsx)(Ce,{children:Object(ie.jsxs)("p",{children:["$",n]})})]}),Object(ie.jsx)(qe,{}),Object(ie.jsxs)(Ee,{children:[Object(ie.jsxs)(Ne,{colorAccent:l,toggle:p?1:0,children:[Object(ie.jsx)(Te,{toggle:p?1:0,children:Object(ie.jsxs)("div",{children:[Object(ie.jsx)(ee,{onClick:c,children:"Delete"}),Object(ie.jsx)(ee,{onClick:function(){return j(!1)},children:"Cancel"})]})}),p?null:Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(ze,{children:Object(ie.jsx)(He,{onClick:function(){return j(!0)}})}),Object(ie.jsx)(De,{children:(null===t||void 0===t?void 0:t.length)>1?t:"No Title"})]})]}),Object(ie.jsx)(_e,{children:(null===i||void 0===i?void 0:i.length)>1?i:"No description provided"}),Object(ie.jsxs)(Me,{children:[Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)("div",{children:"Date"}),Object(ie.jsx)("div",{children:ye(r)})]}),Object(ie.jsx)(qe,{}),Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)("div",{children:"split by"}),Object(ie.jsxs)("div",{children:[s,"%"]})]}),Object(ie.jsx)(qe,{}),Object(ie.jsxs)(Ie,{children:[Object(ie.jsx)("div",{children:"Total"}),Object(ie.jsxs)("div",{children:["$",o]})]})]})]})]})},Le=t(414),Pe={alignItems:"center",paddingTop:"20px"},Ve={alignItems:"center",display:"flex",flexDirection:"column",maxHeight:"65vh",overflow:"scroll"},We=function(e){var n=e.data,t=e.userId,r=e.setData,i=[],c=function(e,n,t){if(void 0!==e&&void 0!==n){var r=[].concat(Object(fe.a)(e),Object(fe.a)(n));return"descending"===t&&r.sort((function(e,n){return new Date(n.date)-new Date(e.date)})),r}}(null===n||void 0===n?void 0:n.userExpenses,null===n||void 0===n?void 0:n.otherUserExpenses,"descending"),a=function(){var e=Object(be.a)(xe.a.mark((function e(n,t){var i;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(n,t);case 2:return e.next=4,Oe(n);case 4:i=e.sent,r(i);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return null===c||void 0===c||c.forEach((function(e,n){i.push(Object(ie.jsx)(Je,{cost:e.cost,title:e.title,date:e.date,description:e.description,ownerName:e.ownerName,splitValue:e.splitValue,initialCost:e.initialCost,clicked:function(){return a(t,e._id)},colorAccent:e.exLabelColor},Object(Le.a)()))})),Object(ie.jsx)("div",{style:Pe,children:Object(ie.jsx)("div",{style:Ve,children:i})})},Re={display:"flex",flexDirection:"column",flex:"1"},Be=function(e){var n=e.data,t=e.setData,r=e.currentUser,i=e.linkedUser;return Object(ie.jsxs)("div",{style:Re,children:[Object(ie.jsx)(pe,{data:n,currentUser:r.userName,linkedUser:null===i||void 0===i?void 0:i.userName}),Object(ie.jsx)(We,{data:n,userId:r._id,setData:t})]})},Xe=we.a.div(g||(g=Object(G.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: scroll;\n"]))),$e=function(e){var n=Object(V.useState)([]),t=Object(X.a)(n,2),r=t[0],i=t[1],c=Object(V.useState)(!1),a=Object(X.a)(c,2),s=a[0],o=a[1],l=Object(V.useState)(!1),d=Object(X.a)(l,2),u=d[0],p=d[1],j=function(){var n=Object(be.a)(xe.a.mark((function n(){var t,r=arguments;return xe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,p(!0),n.next=4,e.apply(void 0,r);case 4:t=n.sent,p(!1),o(!1),i(t),n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),console.log("error in useAPi hook:",n.t0),n.abrupt("return",o(!0));case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();return{data:r,setData:i,error:s,loading:u,request:j}},Ke=t(406),Ze=t(415),Ge=t(223),Qe=t(212),Ye=t(101),en=["dodgerblue","#f95959","#3fba37","#a037baf0","#0c8065f0","#8e1ac8f0"],nn=we.a.h1(m||(m=Object(G.a)(["\n  color: dodgerblue;\n  margin-top: 22px;\n  opacity: ",";\n  transition: opacity 0.4s ease;\n"])),(function(e){return e.animationToggle?1:0})),tn=W.a.memo((function(e){var n=e.chartData,t=e.animationFinished,r=e.setAnimationFinished;return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(nn,{animationToggle:t,children:"Historical Expenses"}),Object(ie.jsx)(Ke.a,{height:"60%",children:Object(ie.jsxs)(Ze.a,{children:[Object(ie.jsx)(Ge.a,{data:n.finishedData,dataKey:"value",label:!0,labelLine:!1,onAnimationEnd:function(){return r(!0)},legendType:"square",children:n.finishedData.map((function(e,n){return Object(ie.jsx)(Qe.a,{fill:en[n]},"cell-".concat(n))}))}),Object(ie.jsx)(Ye.a,{})]})})]})})),rn=we.a.div(y||(y=Object(G.a)(["\n  align-items: center;\n  background-color: #fff;\n  border: 2px solid ",";\n  border-radius: 6px;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  margin: 10px 0px;\n  width: 85vw;\n"])),(function(e){return e.borderColor||"#c9c9c9c9"})),cn=we.a.div(w||(w=Object(G.a)(["\n  padding: 20px 20px 10px 20px;\n  display: flex;\n  justify-content: space-between;\n  text-align: center;\n  text-transform: capitalize;\n  width: 100%;\n"]))),an=Object(we.a)(cn)(k||(k=Object(G.a)(["\n  height: ",";\n  opacity: ",";\n  padding: ",";\n  transition: all 0.3s ease;\n"])),(function(e){return e.expanded?"35px":"0px"}),(function(e){return e.expanded?"1":"0"}),(function(e){return e.expanded?"20px 20px 10px 20px":"0px"})),sn=we.a.div(S||(S=Object(G.a)(["\n  display: flex;\n  width: ",";\n  border-radius: parseInt(20px) / 2;\n  justify-content: center;\n  align-items: center;\n\n  & > svg {\n    transition: color 0.4s ease;\n  }\n"])),(function(e){return e.iconSize})),on=function(e){var n=e.size,t=void 0===n?"20px":n,r=e.IconName,i=e.activeColor,c=e.color;return Object(ie.jsx)(sn,{iconSize:t,tempColor:!0,children:Object(ie.jsx)(r,{color:c||i?"#1976d2":"black",size:t})})},ln=t(118),dn=function(e){var n=e.cost,t=e.date,r=e.ownerName,i=e.accentColor,c=e.title,a=e.initialCost,s=Object(V.useState)(!1),o=Object(X.a)(s,2),l=o[0],d=o[1];return Object(ie.jsxs)(rn,{borderColor:i,children:[Object(ie.jsxs)(cn,{children:[Object(ie.jsx)("div",{children:r}),Object(ie.jsx)("div",{children:n}),Object(ie.jsx)("div",{children:Object(me.a)(Object(ge.a)(t),"MM-d-yy")})]}),Object(ie.jsxs)(an,{expanded:l,children:[Object(ie.jsxs)("div",{children:[" ",c]}),Object(ie.jsxs)("div",{children:["TotalExpense: ",a," "]})]}),Object(ie.jsx)("div",{onClick:function(){return d(!l)},children:Object(ie.jsx)(on,{IconName:ln.a})})]})},un=(we.a.div(C||(C=Object(G.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),we.a.div(U||(U=Object(G.a)(["\n  align-items: center;\n  display: flex;\n  justify-content: ",";\n"])),(function(e){return e.justifyContent||"center"}))),pn=we.a.button(E||(E=Object(G.a)(["\n  align-items: center;\n  background-color: ",";\n  border: ",";\n  border-radius: 12px;\n  color: ",";\n  display: flex;\n  font-size: 12px;\n  justify-content: center;\n  min-width: 116.5px;\n  padding: ",";\n  text-transform: capitalize;\n  transition: background-color 0.4s ease, color 0.4s ease;\n\n  & > div {\n    padding: 4px;\n  }\n"])),(function(e){return e.toggled?"dodgerblue":"#fff"}),(function(e){return e.toggled?"0px":"2px solid dodgerblue"}),(function(e){return e.toggled?"#fff":"#4a4a4a"}),(function(e){return e.toggled?"10px":"8px"})),jn=function(e){var n=e.clicked,t=e.disabled,r=e.name,i=e.toggled;return Object(ie.jsx)(pn,{type:"button",disabled:t,toggled:i,onClick:n,children:Object(ie.jsx)("div",{children:r})})},xn=function(e){var n=e.list,t=Object(V.useState)(n),r=Object(X.a)(t,2),i=r[0],c=r[1],a=Object(V.useState)(!1),s=Object(X.a)(a,2),o=s[0],l=s[1],d=Object(V.useState)(!1),u=Object(X.a)(d,2),p=u[0],j=u[1],x=Object(V.useState)(!1),b=Object(X.a)(x,2),f=b[0],h=b[1],O=Object(V.useState)(!1),v=Object(X.a)(O,2),g=v[0],m=v[1];return Object(ie.jsxs)("div",{children:[Object(ie.jsxs)(un,{justifyContent:"space-around",children:[Object(ie.jsx)(jn,{name:g?f?"Old To New":"New To Old":"Sort Date",toggled:g,clicked:f?function(){return function(){var e=Object(fe.a)(i);e.sort((function(e,n){return new Date(n.props.date)-new Date(e.props.date)})),c(e),h(!f),m(!0),j(!1)}()}:function(){return function(){var e=Object(fe.a)(i);e.sort((function(e,n){return new Date(e.props.date)-new Date(n.props.date)})),c(e),h(!f),m(!0),j(!1)}()}}),Object(ie.jsx)(jn,{name:p?o?"High To Low":"Low To High":"Sort Expense",toggled:p,clicked:o?function(){return function(){var e=Object(fe.a)(i);e.sort((function(e,n){return e.props.cost-n.props.cost})),c(e),l(!o),j(!0),m(!1)}()}:function(){return function(){var e=Object(fe.a)(i);e.sort((function(e,n){return n.props.cost-e.props.cost})),c(e),l(!o),j(!0),m(!1)}()}})]}),i]})},bn=function(e){var n=e.data,t=e.currentUser,r=e.linkedUser,i=[];return null===n||void 0===n||n.forEach((function(e,n){e.owner!==t._id&&e.owner!==r._id||i.push(Object(ie.jsx)(dn,{cost:e.cost,title:e.title,date:e.date,description:e.description,ownerName:e.ownerName,splitValue:e.splitValue,initialCost:e.initialCost,accentColor:e.ownerName===t.userName?"dodgerblue":"#f95959"},n))})),Object(ie.jsx)(xn,{list:i})},fn=function(e,n,t){if(e){for(var r=[],i=[],c=null===n||void 0===n?void 0:n.userName,a=null===t||void 0===t?void 0:t.userName,s=0;s<e.length;s++)e[s].ownerName===c?r.push({name:e[s].ownerName,value:parseInt(e[s].cost)}):e[s].ownerName===(null===t||void 0===t?void 0:t.userName)&&i.push({name:e[s].ownerName,value:parseInt(e[s].cost)});return{finishedData:function(){var e=r.reduce((function(e,n){return e+n.value}),0),n=i.reduce((function(e,n){return e+n.value}),0);return[{name:c,value:e,color:"dodgerblue"},{name:a,value:n,color:"#f95959"}]}()}}},hn=function(e){var n=e.currentUser,t=e.linkedUser,r=Object(V.useState)(!1),i=Object(X.a)(r,2),c=i[0],a=i[1],s=$e(ve),o=s.data,l=s.request,d=o.allHistoricalExpenses,u=fn(d,n,t);return Object(V.useEffect)((function(){l()}),[]),Object(ie.jsxs)(Xe,{children:[u?Object(ie.jsx)(tn,{chartData:u,animationFinished:c,setAnimationFinished:a}):null,c?Object(ie.jsx)(bn,{data:d,currentUser:n,linkedUser:t}):null]})},On=t(216),vn=t(215),gn=t(67),mn=t(148),yn=t.n(mn),wn=t(54),kn=function(){var e=Object(be.a)(xe.a.mark((function e(n,t){var r,i;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.userId=t,e.prev=1,e.next=4,fetch("/api/addExpense",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:return i=e.sent,e.abrupt("return",{data:i,response:r});case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n,t){return e.apply(this,arguments)}}(),Sn=function(e,n){return(n*e/100).toFixed(2)},Cn=we.a.div(N||(N=Object(G.a)(["\n  background-color: #fff;\n  bottom: -50vh;\n  display: flex;\n  flex-direction: column;\n  height: 0vh;\n  justify-content: center;\n  position: fixed;\n  transition: 0.5s ease-in-out;\n  width: 100%;\n  z-index: 4;\n"]))),Un=we.a.form(D||(D=Object(G.a)(['\n  display: flex;\n  flex-direction: column;\n  font-family: "Roboto";\n  overflow-y: scroll;\n']))),En=we.a.div(T||(T=Object(G.a)(['\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  & > textarea {\n    border: 2px solid #5cb6e2;\n    border-radius: 8px;\n    color: #38334ccc;\n    font-family: "Roboto";\n    font-size: 18px;\n    padding: 8px 12px;\n  }\n']))),Nn=we.a.input(z||(z=Object(G.a)(["\n  border: 2px solid #5cb6e2;\n  border-radius: 10px;\n  color: #38334ccc;\n  font-size: 26px;\n  padding: 8px 12px;\n  width: inherit;\n"]))),Dn=we.a.div(I||(I=Object(G.a)(["\n  align-items: center;\n  background-color: #fff;\n  color: #5cb6e2;\n  display: flex;\n  justify-content: space-evenly;\n  font-size: 28px;\n  font-weight: bold;\n  padding: 10px 12px;\n  text-transform: uppercase;\n"]))),Tn=we.a.div(M||(M=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  width: 100%;\n"]))),zn=we.a.div(_||(_=Object(G.a)(["\n  color: #38334ccc;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  font-size: 18px;\n  top: 0px;\n  right: 0px;\n  height: 100%;\n  padding: 8px;\n  width: 30%;\n"]))),In=function(e){var n=e.calculatedSplit;return Object(ie.jsx)(zn,{children:n})},Mn=t(412),_n=function(e){var n,t=e.currentUser,r=e.linkedUsers,i=e.setData,c=e.setMenuToggle,a=e.menuToggle,s=e.style,o=Object(V.useState)(!1),l=Object(X.a)(o,2),d=l[0],u=l[1],p=Object(V.useState)(),j=Object(X.a)(p,2),x=j[0],b=j[1],f=Object(V.useState)(""),h=Object(X.a)(f,2),O=h[0],v=h[1],g=Object(V.useState)(50),m=Object(X.a)(g,2),y=m[0],w=m[1],k=Object(V.useState)(!0),S=Object(X.a)(k,2),C=S[0],U=S[1],E=Object(V.useState)(!1),N=Object(X.a)(E,2),D=N[0],T=N[1],z=Object(V.useState)(""),I=Object(X.a)(z,2),M=I[0],_=I[1],q=Object(V.useState)(0),A=Object(X.a)(q,2),F=A[0],H=A[1],J=Object(V.useState)("text"),L=Object(X.a)(J,2),P=L[0],W=L[1],R=Object(wn.d)(),B=R.register,$=R.handleSubmit,K=R.reset,Z=R.getValues,G=R.formState.errors,Q=function(){var e=Object(be.a)(xe.a.mark((function e(n){var r,s;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=en[Math.floor(Math.random()*en.length)],n.cost=x,n.splitValue=y,n.initialCost=O,n.exLabelColor=r,""===M){e.next=10;break}return e.next=8,kn(n,M._id);case 8:e.next=12;break;case 10:return e.next=12,kn(n,t._id);case 12:return e.next=14,Oe(t._id);case 14:s=e.sent,i(s),K(),w(50),b(null),U(!0),c(!a),v(""),W("text");case 23:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Y=function(e){!function(e){e.length<=0?U(!0):U(!1)}(e.target.value);var n=parseInt(e.target.value),t=Sn(n,50);b(t),v(e.target.value)};return Object(ie.jsx)(Cn,{style:s,children:Object(ie.jsxs)(Un,{id:"form",onSubmit:$((function(e){return Q(e)})),children:[Object(ie.jsx)(ie.Fragment,{children:Object(ie.jsxs)(En,{children:[Object(ie.jsxs)(Dn,{children:[Object(ie.jsx)(jn,{disabled:C,toggled:d,name:"Modify Split",clicked:function(){return u(!d)}}),Object(ie.jsx)(jn,{name:M.userName||"Charge to other",toggled:D,clicked:function(){return T(!0),H((function(e){return e+1})),void _(r[F%2===0?1:0])}})]}),Object(ie.jsxs)(Tn,{children:[Object(ie.jsx)(Nn,Object(gn.a)({type:"number",id:"number-input",inputMode:"numeric",placeholder:"Cost (required)",name:"cost",step:"0.01",onInput:function(e){return Y(e)}},B("cost",{required:!0}))),Object(ie.jsx)(In,{calculatedSplit:x})]}),"required"===(null===(n=G.cost)||void 0===n?void 0:n.type)&&"Cost is required",Object(ie.jsx)(Mn.a,{disabled:!d,onChange:function(e){return function(e){var n=Z("cost"),t=Sn(e,n);b(t),w(e)}(e.target.value)},size:"medium",min:0,max:100,defaultValue:50,"aria-label":"sliderPercent",step:5,valueLabelDisplay:"auto",sx:{height:d?"8px":"0px",opacity:d?"1":"0",transition:"all 0.3s linear"}})]})}),Object(ie.jsx)(En,{className:yn.a.titleWrapper,children:Object(ie.jsx)(Nn,Object(gn.a)({type:"text",id:"title-input",name:"title",placeholder:"Title"},B("title")))}),Object(ie.jsx)(En,{className:yn.a.dateWrapper,children:Object(ie.jsx)(Nn,Object(gn.a)({type:P,id:"date-picker",name:"date",placeholder:"Date",onFocus:function(){return W("date")}},B("date")))}),Object(ie.jsx)(En,{children:Object(ie.jsx)("textarea",Object(gn.a)({cols:"15",rows:"2",id:"textarea-input",placeholder:"Description",name:"description"},B("description")))}),Object(ie.jsx)(ne,{variant:"contained",type:"submit",children:"Submit Expense"})]})})},qn=we.a.footer(q||(q=Object(G.a)(["\n  display: flex;\n  height: 6%;\n  min-height: 30px;\n  z-index: 4;\n"]))),An=we.a.div(A||(A=Object(G.a)(["\n  align-items: center;\n  background-color: #fff;\n  box-shadow: 0 -1px 4px rgb(0 0 0 / 12%), 0 1px 2px;\n  display: flex;\n  justify-content: space-between;\n  height: 100%;\n  width: 100vw;\n\n  & > div {\n    margin: 0 15px;\n  }\n"]))),Fn=function(e){var n=e.currentUser,t=e.linkedUsers,r=e.clicked,i=e.menuToggle,c=e.setMenuToggle,a=e.setData,s=Object(K.e)(),o=function(){var e;e="/history"===s.pathname?vn.a:ln.b;var n=function(){return"/history"===s.pathname?"#1976d2":"black"};return i?Object(ie.jsx)(on,{color:n,IconName:e,size:30}):Object(ie.jsx)($.b,{to:"/history"===s.pathname?"/":"/history",children:Object(ie.jsx)(on,{color:n,IconName:e,size:30})})};return Object(ie.jsxs)(ie.Fragment,{children:[i?Object(ie.jsx)(_n,{currentUser:n,linkedUsers:t,setData:a,menuToggle:i,setMenuToggle:c,style:{height:"100%",bottom:"0%"}}):Object(ie.jsx)(_n,{}),Object(ie.jsx)(qn,{children:Object(ie.jsxs)(An,{children:[Object(ie.jsx)("div",{children:Object(ie.jsx)(o,{})}),Object(ie.jsx)("div",{onClick:r,children:Object(ie.jsx)(on,{IconName:On.a,size:30,activeColor:i})})]})})]})},Hn=function(){var e=Object(be.a)(xe.a.mark((function e(n){var t,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/getLinkedUsers/".concat(n));case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.log("Error in getUsers function",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),Jn=Hn,Ln=function(){var e=Object(V.useState)(!1),n=Object(X.a)(e,2),t=n[0],r=n[1],i=Object(V.useContext)(Z),c=$e(Oe),a=c.data,s=c.setData,o=c.request,l=$e(Jn),d=l.data,u=l.request,p=function(e,n){var t;if(n&&2===n.length)return n.forEach((function(n){n._id!==e&&(t=n)})),t}(i.user._id,d);return Object(V.useEffect)((function(){o(null===i||void 0===i?void 0:i.user._id),u(null===i||void 0===i?void 0:i.user._id)}),[]),Object(ie.jsxs)($.a,{children:[Object(ie.jsx)(ae,{}),Object(ie.jsxs)(K.c,{children:[Object(ie.jsx)(K.a,{path:"/",element:Object(ie.jsx)(Be,{data:a,setData:s,currentUser:null===i||void 0===i?void 0:i.user,linkedUser:p})}),Object(ie.jsx)(K.a,{path:"/history",element:Object(ie.jsx)(hn,{currentUser:null===i||void 0===i?void 0:i.user,linkedUser:p})})]}),Object(ie.jsx)(Fn,{currentUser:null===i||void 0===i?void 0:i.user,linkedUsers:d,clicked:function(){return r(!t)},menuToggle:t,setMenuToggle:r,setData:s})]})},Pn=(t(374),we.a.div(F||(F=Object(G.a)(['\n  position: absolute;\n  font-family: "Dancing Script", cursive;\n  left: 0;\n  right: 0;\n  font-size: 35px;\n  color: white;\n  margin-left: 0;\n  margin-right: 0;\n  width: 200px;\n  margin: 0 auto;\n  text-align: center;\n  top: 10vh;\n'])))),Vn=we.a.div(H||(H=Object(G.a)(["\n  align-items: center;\n  display: flex;\n  background: rgb(165, 112, 215);\n  background: linear-gradient(\n    58deg,\n    rgba(165, 112, 215, 1) 0%,\n    rgba(105, 105, 218, 1) 53%,\n    rgba(57, 176, 200, 1) 100%\n  );\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n"]))),Wn=we.a.form(J||(J=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80vw;\n\n  div {\n    margin: 10px 0px;\n  }\n\n  div > input:focus-visible {\n    border: 2px solid #cf82fb;\n    outline: none;\n  }\n\n  button {\n    font-size: 18px;\n    margin-top: 10px;\n  }\n"]))),Rn=function(){var e=Object(be.a)(xe.a.mark((function e(n){var t,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.prev=1,e.next=4,fetch("/api/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return r=e.sent,e.abrupt("return",{data:r,response:t});case 11:e.prev=11,e.t0=e.catch(1),console.log("Error in login function > auth.js",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}(),Bn=function(){var e=Object(be.a)(xe.a.mark((function e(){var n,t,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={password:"demo123",username:"demo"},e.prev=1,e.next=4,fetch("/api/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}});case 4:return t=e.sent,e.next=7,t.json();case 7:return r=e.sent,e.abrupt("return",{data:r,response:t});case 11:e.prev=11,e.t0=e.catch(1),console.log("Error in login function > auth.js",e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),Xn=t(122),$n=Xn.a().shape({username:Xn.b().required("Username is required"),password:Xn.b().min(4,"Password must contain at least 4 characters").required("Password is required")}),Kn=t(222),Zn=we.a.div(L||(L=Object(G.a)(["\n  //only displays if not on mobile\n  display: none;\n  @media (min-width: 768px) {\n    display: flex;\n    padding: 10px 10px 30px 10px;\n\n    p {\n      color: #fff;\n      font-size: 1.2rem;\n      font-weight: bold;\n    }\n  }\n"]))),Gn=we.a.p(P||(P=Object(G.a)(["\n  color: #d10000;\n  margin-top: 5px;\n  text-align: center;\n"]))),Qn=function(){var e,n,t=Object(V.useState)(!1),r=Object(X.a)(t,2),i=r[0],c=r[1],a=Object(V.useContext)(Z),s=Object(wn.d)({resolver:Object(Kn.a)($n)}),o=s.register,l=s.handleSubmit,d=s.formState.errors,u=function(){var e=Object(be.a)(xe.a.mark((function e(n){var t,r,i;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rn(n);case 2:t=e.sent,r=t.response,i=t.data,r.ok&&(localStorage.setItem("user",JSON.stringify(i)),a.setUser(i)),r.ok||c(!0);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=Object(be.a)(xe.a.mark((function e(){var n,t,r;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bn();case 2:n=e.sent,t=n.response,r=n.data,t.ok&&(localStorage.setItem("user",JSON.stringify(r)),a.setUser(r)),t.ok||c(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(ie.jsxs)(Vn,{children:[Object(ie.jsx)(Pn,{children:Object(ie.jsx)("h1",{children:"Tally"})}),Object(ie.jsx)(Zn,{children:Object(ie.jsx)("p",{children:"Hello! This website is best used on mobile"})}),i?Object(ie.jsx)(Gn,{children:"Invalid login"}):null,Object(ie.jsxs)(Wn,{onSubmit:l(u),children:[Object(ie.jsxs)(Tn,{children:[Object(ie.jsx)(Nn,Object(gn.a)({type:"text",placeholder:"Username",name:"username"},o("username"))),Object(ie.jsx)(Gn,{children:null===(e=d.username)||void 0===e?void 0:e.message})]}),Object(ie.jsxs)(Tn,{children:[Object(ie.jsx)(Nn,Object(gn.a)({type:"password",placeholder:"Password",name:"password"},o("password"))),Object(ie.jsx)(Gn,{children:null===(n=d.password)||void 0===n?void 0:n.message})]}),Object(ie.jsx)(ne,{type:"submit",children:"Log In"}),Object(ie.jsx)(ne,{onClick:function(){return p()},children:"Demo"})]})]})};var Yn=function(){var e=Object(V.useState)(),n=Object(X.a)(e,2),t=n[0],r=n[1],i=$e(Jn),c=i.data,a=i.request,s=localStorage.getItem("user"),o=JSON.parse(s);return Object(V.useEffect)((function(){if(s){var e=JSON.parse(s);r(e),a(o._id)}}),[]),Object(ie.jsx)(Z.Provider,{value:{user:t,setUser:r,linkedUsers:c},children:Object(ie.jsx)("div",{className:"App",children:t?Object(ie.jsx)(Ln,{}):Object(ie.jsx)(Qn,{})})})};B.a.render(Object(ie.jsx)(W.a.StrictMode,{children:Object(ie.jsx)(Yn,{})}),document.getElementById("root"))}},[[385,1,2]]]);
//# sourceMappingURL=main.443bdd2f.chunk.js.map