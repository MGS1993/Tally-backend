(this.webpackJsonptally=this.webpackJsonptally||[]).push([[0],{17:function(e,t,n){e.exports={bottomWrapper:"TallyExpense_bottomWrapper__1etld",date:"TallyExpense_date__1bxxM",iconWrapper:"TallyExpense_iconWrapper__3fapK",mainWrapper:"TallyExpense_mainWrapper__39_v0",midWrapper:"TallyExpense_midWrapper__IKxp4",ownerNameWrapper:"TallyExpense_ownerNameWrapper__3hQFv",topWrapper:"TallyExpense_topWrapper__23h2l"}},18:function(e,t,n){e.exports={appTitleWrapper:"LoginPage_appTitleWrapper__3T6m2",mainWrapper:"LoginPage_mainWrapper__sEUSR",formWrapper:"LoginPage_formWrapper__2bVHB",inputWrapper:"LoginPage_inputWrapper__2v8NI",loginInput:"LoginPage_loginInput__3zld-",loginSubmit:"LoginPage_loginSubmit__3p4-N"}},30:function(e,t,n){e.exports={formWrapper:"Menu_formWrapper__2pZop"}},33:function(e,t,n){e.exports={mainWrapper:"NavFooter_mainWrapper__3fp08",secondaryWrapper:"NavFooter_secondaryWrapper__3fHZ1"}},47:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var r,a,c,s,i,o,l,p,d,u=n(1),j=n.n(u),x=n(34),b=n.n(x),f=(n(47),n(6)),h=n(39),O=n(5),v=j.a.createContext(),m=n(2),g={alignItems:"center",backgroundColor:"dodgerblue",color:"white",display:"flex",height:"6%",justifyContent:"center",minHeight:"38px"},y=function(){return Object(m.jsx)("div",{style:g,children:Object(m.jsx)("h1",{children:"Tally"})})},w={alignItems:"center",display:"flex",flex:"1",flexDirection:"column",margin:"10px",textAlign:"center"},_={alignItems:"center",alignSelf:"center",backgroundColor:"white",borderRadius:"5px",boxShadow:"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)",display:"flex",justifyContent:"center",marginTop:"25px",padding:"10px",width:"80vw"},N={color:"gray",fontSize:"14px"},W={color:"green",fontSize:"28px",fontWeight:"bold",marginTop:"10%"},E=function(e){var t=e.data,n=e.userName;return Object(m.jsxs)("div",{style:_,children:[Object(m.jsxs)("div",{style:w,children:[Object(m.jsx)("p",{style:N,children:"".concat(n,"'s Expenses")}),Object(m.jsxs)("div",{style:W,children:[null===t||void 0===t?void 0:t.calculatedUserExpenses," "]})]}),Object(m.jsxs)("div",{style:w,children:[Object(m.jsx)("p",{style:N,children:"What you owe"}),Object(m.jsx)("div",{id:"difference",style:W,children:(null===t||void 0===t?void 0:t.calculatedUserExpenses)-(null===t||void 0===t?void 0:t.calculatedOtherUserExpenses)||0})]}),Object(m.jsxs)("div",{style:w,children:[Object(m.jsx)("p",{style:N,children:"".concat("manuel"===n?"victoria":"manuel","'s Expenses")}),Object(m.jsx)("div",{style:W,children:null===t||void 0===t?void 0:t.calculatedOtherUserExpenses})]})]})},S=n(3),k=n.n(S),T=n(10),C=n(9),I=function(e,t,n){if(void 0!==e&&void 0!==t){var r=[].concat(Object(C.a)(e),Object(C.a)(t));return"descending"===n&&r.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),r}},D=function(){var e=Object(T.a)(k.a.mark((function e(t,n){var r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/deleteExpense/".concat(t,"/").concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:return a=e.sent,console.log(a),e.abrupt("return",a);case 11:e.prev=11,e.t0=e.catch(0),console.log("error in delete expense function:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(T.a)(k.a.mark((function e(t){var n,r,a,c,s,i;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,fetch("/api/getExpenses/".concat(t));case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,a=r.userExpenses,c=r.otherUserExpenses,s=r.calculatedUserExpenses,i=r.calculatedOtherUserExpenses,e.abrupt("return",{userExpenses:a,otherUserExpenses:c,calculatedUserExpenses:s,calculatedOtherUserExpenses:i});case 13:e.prev=13,e.t0=e.catch(2),console.log("Error in getExpense function:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),z=n(17),P=n.n(z),L=n(35),M=function(e){var t=e.size,n=void 0===t?"20px":t,r=e.backgroundColor,a=void 0===r?"white":r,c=e.iconColor,s=void 0===c?"black":c,i=e.IconName;return Object(m.jsx)("div",{style:{display:"flex",width:n,height:n,borderRadius:parseInt(n)/2,backgroundColor:a,justifyContent:"center",alignItems:"center"},children:Object(m.jsx)(i,{color:s,size:n})})},q=n(68),F=n(70),J=function(e){var t=Object(q.a)(e);return Object(F.a)(new Date(t),"MMMM do")},A=function(e){var t=e.cost,n=e.title,r=e.date,a=e.description,c=e.clicked,s=e.ownerName;return Object(m.jsxs)("div",{className:P.a.mainWrapper,children:[Object(m.jsxs)("div",{className:P.a.ownerNameWrapper,children:["-",s,"-"]}),Object(m.jsxs)("div",{className:P.a.topWrapper,children:[Object(m.jsx)("div",{className:P.a.date,children:J(r)}),Object(m.jsx)("div",{className:P.a.iconWrapper,onClick:c,children:Object(m.jsx)(M,{IconName:L.a,size:"15",iconColor:"red"})})]}),Object(m.jsxs)("div",{className:P.a.midWrapper,children:[Object(m.jsx)("div",{className:P.a.title,children:(null===n||void 0===n?void 0:n.length)>1?n:"No Title"}),Object(m.jsxs)("div",{children:["Amount: ",t]})]}),Object(m.jsx)("div",{className:P.a.bottomWrapper,children:Object(m.jsx)("p",{children:a})})]})},H={alignItems:"center",paddingTop:"20px"},B={alignItems:"center",display:"flex",flexDirection:"column",maxHeight:"65vh",overflow:"scroll"},R=function(e){var t=e.data,n=e.userId,r=e.setData,a=[],c=I(null===t||void 0===t?void 0:t.userExpenses,null===t||void 0===t?void 0:t.otherUserExpenses,"descending"),s=function(){var e=Object(T.a)(k.a.mark((function e(t,n){var a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,n);case 2:return e.next=4,U(t);case 4:a=e.sent,r(a);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return null===c||void 0===c||c.forEach((function(e,t){a.push(Object(m.jsx)(A,{cost:e.cost,title:e.title,date:e.date,description:e.description,ownerName:e.ownerName,clicked:function(){return s(n,e._id)}},t))})),Object(m.jsx)("div",{style:H,children:Object(m.jsx)("div",{style:B,children:a})})},V={display:"flex",flexDirection:"column",flex:"1"},K=function(e){var t=e.data,n=e.setData,r=Object(u.useContext)(v);return Object(m.jsxs)("div",{style:V,children:[Object(m.jsx)(E,{data:t,userName:null===r||void 0===r?void 0:r.user.userName}),Object(m.jsx)(R,{data:t,userId:null===r||void 0===r?void 0:r.user._id,userName:null===r||void 0===r?void 0:r.user.userName,setData:n})]})},Z=n(19),Q=n(30),G=n.n(Q),X=n(26),Y=function(){var e=Object(T.a)(k.a.mark((function e(t,n){var r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.userId=n,e.prev=1,e.next=4,fetch("/api/addExpense",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",{data:a,response:r});case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),$=function(e,t){return(t*e/100).toFixed(2)},ee=n(15),te=n(16),ne=te.a.div(r||(r=Object(ee.a)(["\n  background-color: #fff;\n  bottom: -50vh;\n  display: flex;\n  flex-direction: column;\n  height: 0vh;\n  justify-content: center;\n  position: fixed;\n  transition: 0.5s ease-in-out;\n  width: 100%;\n"]))),re=te.a.form(a||(a=Object(ee.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow-y: scroll;\n  /* margin: 20% 0px; */\n"]))),ae=te.a.div(c||(c=Object(ee.a)(["\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  & > textarea {\n    border: 2px solid #5cb6e2;\n    color: #38334ccc;\n\n    font-size: 18px;\n    padding: 8px 12px;\n  }\n"]))),ce=te.a.input(s||(s=Object(ee.a)(["\n  border: 2px solid #5cb6e2;\n  color: #38334ccc;\n  font-size: 26px;\n  padding: 8px 12px;\n  width: inherit;\n"]))),se=te.a.input(i||(i=Object(ee.a)(["\n  align-self: center;\n  background-color: #5cb6e2;\n  border: 2px solid white;\n  border-radius: 5px;\n  color: white;\n  font-weight: bold;\n  height: 40px;\n  margin: 10px;\n  width: 80%;\n"]))),ie=te.a.div(o||(o=Object(ee.a)(["\n  align-items: center;\n  background-color: #f0f9fe;\n  color: #5cb6e2;\n  display: flex;\n  justify-content: space-between;\n  font-size: 28px;\n  font-weight: bold;\n  padding: 10px 12px;\n  text-transform: uppercase;\n"]))),oe=te.a.div(l||(l=Object(ee.a)(["\n  display: flex;\n  position: relative;\n  width: 100%;\n"]))),le=te.a.div(p||(p=Object(ee.a)(["\n  color: #38334ccc;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  font-size: 18px;\n  top: 0px;\n  right: 0px;\n  height: 100%;\n  padding: 8px;\n  width: 30%;\n"]))),pe=function(e){var t=e.calculatedSplit;return Object(m.jsx)(le,{children:t})},de=te.a.button(d||(d=Object(ee.a)(["\n  align-items: center;\n  background-color: ",";\n  border: 0px;\n  border-radius: 12px;\n  color: white;\n  display: flex;\n  justify-content: center;\n  font-size: 12px;\n  padding: 8px;\n  transition: background-color 0.4s ease;\n\n  & > div {\n    padding: 4px;\n  }\n"])),(function(e){return e.toggled?"dodgerblue":"#bdbdbd"})),ue=function(e){var t=e.clicked,n=e.disabled,r=e.name,a=e.toggled;return Object(m.jsx)(de,{type:"button",disabled:n,toggled:a,onClick:t,children:Object(m.jsx)("div",{children:r})})},je=n(69),xe=function(e){var t,n=e.setData,r=e.style,a=Object(u.useContext)(v),c=Object(u.useState)(!1),s=Object(f.a)(c,2),i=s[0],o=s[1],l=Object(u.useState)(),p=Object(f.a)(l,2),d=p[0],j=p[1],x=Object(u.useState)(!0),b=Object(f.a)(x,2),h=b[0],O=b[1],g=Object(X.a)(),y=g.register,w=g.handleSubmit,_=g.reset,N=g.getValues,W=g.formState.errors,E=function(){var e=Object(T.a)(k.a.mark((function e(t){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.cost=d,e.next=3,Y(t,a.user._id);case 3:return e.next=5,U(a.user._id);case 5:r=e.sent,n(r),_(),j(null),O(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e){!function(e){e.length<=0?O(!0):O(!1)}(e.target.value);var t=parseInt(e.target.value),n=$(t,50);j(n)};return Object(m.jsx)(ne,{style:r,children:Object(m.jsxs)(re,{id:"form",onSubmit:w((function(e){return E(e)})),children:[Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(ae,{children:[Object(m.jsxs)(ie,{children:["Cost",Object(m.jsx)(ue,{disabled:h,toggled:i,name:"Modify Split",clicked:function(){return o(!i)}})]}),Object(m.jsxs)(oe,{children:[Object(m.jsx)(ce,Object(Z.a)({type:"number",id:"number-input",inputMode:"numeric",placeholder:"Cost (required)",name:"cost",onInput:function(e){return S(e)}},y("cost",{required:!0}))),Object(m.jsx)(pe,{calculatedSplit:d})]}),"required"===(null===(t=W.cost)||void 0===t?void 0:t.type)&&"Cost is required",Object(m.jsx)(je.a,{disabled:h,onChange:function(e){return function(e){var t=N("cost"),n=$(e,t);j(n)}(e.target.value)},size:"medium",min:0,max:100,defaultValue:50,"aria-label":"sliderPercent",step:5,valueLabelDisplay:"auto",sx:{height:i?"8px":"0px",opacity:i?"1":"0",transition:"all 0.3s linear"}})]})}),Object(m.jsxs)(ae,{className:G.a.titleWrapper,children:[Object(m.jsx)(ie,{children:"Title"}),Object(m.jsx)(ce,Object(Z.a)({type:"text",id:"title-input",name:"title",placeholder:"Title"},y("title")))]}),Object(m.jsxs)(ae,{className:G.a.dateWrapper,children:[Object(m.jsx)(ie,{children:"Date"}),Object(m.jsx)(ce,Object(Z.a)({type:"date",id:"date-picker",name:"date"},y("date")))]}),Object(m.jsx)(ae,{children:Object(m.jsx)("textarea",Object(Z.a)({cols:"15",rows:"2",id:"textarea-input",placeholder:"Description",name:"description"},y("description")))}),Object(m.jsx)(se,{id:"submitBtn",type:"submit",value:"Submit Expense"})]})})},be=n(33),fe=n.n(be),he=n(38),Oe=function(e){var t=e.clicked,n=e.menuToggle,r=e.setData;return Object(m.jsxs)(m.Fragment,{children:[n?Object(m.jsx)(xe,{setData:r,style:{height:"100%",bottom:"0%"}}):Object(m.jsx)(xe,{}),Object(m.jsx)("div",{id:"burger",className:fe.a.mainWrapper,children:Object(m.jsx)("div",{className:fe.a.secondaryWrapper,children:Object(m.jsx)("div",{onClick:t,children:Object(m.jsx)(M,{IconName:he.a,size:30})})})})]})},ve=function(e){var t=Object(u.useState)([]),n=Object(f.a)(t,2),r=n[0],a=n[1],c=Object(u.useState)(!1),s=Object(f.a)(c,2),i=s[0],o=s[1],l=Object(u.useState)(!1),p=Object(f.a)(l,2),d=p[0],j=p[1],x=function(){var t=Object(T.a)(k.a.mark((function t(){var n,r=arguments;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,j(!0),t.next=4,e.apply(void 0,r);case 4:n=t.sent,j(!1),o(!1),a(n),t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(0),console.log("error in useAPi hook:",t.t0),t.abrupt("return",o(!0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return{data:r,setData:a,error:i,loading:d,request:x}},me=function(){var e=Object(u.useState)(!1),t=Object(f.a)(e,2),n=t[0],r=t[1],a=Object(u.useContext)(v),c=ve(U),s=c.data,i=c.setData,o=c.request;return Object(u.useEffect)((function(){o(null===a||void 0===a?void 0:a.user._id)}),[]),Object(m.jsxs)(h.a,{children:[Object(m.jsx)(y,{}),Object(m.jsx)(O.c,{children:Object(m.jsx)(O.a,{path:"/",element:Object(m.jsx)(K,{data:s,setData:i})})}),Object(m.jsx)(Oe,{clicked:function(){return r(!n)},menuToggle:n,setData:i})]})},ge=(n(57),n(18)),ye=n.n(ge),we=function(){var e=Object(T.a)(k.a.mark((function e(t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/login",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",{data:r,response:n});case 10:e.prev=10,e.t0=e.catch(0),console.log("Error in login function > auth.js",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),_e={login:we},Ne=function(){var e=Object(u.useContext)(v),t=Object(X.a)(),n=t.register,r=t.handleSubmit,a=(t.formState.errors,function(){var t=Object(T.a)(k.a.mark((function t(n){var r,a,c;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_e.login(n);case 2:r=t.sent,a=r.response,c=r.data,200===a.status&&(console.log("Successfully logged in"),localStorage.setItem("user",JSON.stringify(c)),e.setUser(c));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return Object(m.jsxs)("div",{className:ye.a.mainWrapper,children:[Object(m.jsx)("div",{className:ye.a.appTitleWrapper,children:Object(m.jsx)("h1",{children:"Tally"})}),Object(m.jsxs)("form",{className:ye.a.formWrapper,onSubmit:r(a),children:[Object(m.jsxs)("div",{className:ye.a.inputWrapper,children:[Object(m.jsx)("label",{htmlFor:"username",children:"Username"}),Object(m.jsx)("input",Object(Z.a)({className:ye.a.loginInput,type:"text",placeholder:"Username",name:"username"},n("username",{required:!0})))]}),Object(m.jsxs)("div",{className:ye.a.inputWrapper,children:[Object(m.jsx)("label",{htmlFor:"password",children:"Password"}),Object(m.jsx)("input",Object(Z.a)({className:ye.a.loginInput,type:"password",placeholder:"Password",name:"password"},n("password",{required:!0})))]}),Object(m.jsx)("input",{className:ye.a.loginSubmit,type:"submit",value:"Login"})]})]})};var We=function(){var e=Object(u.useState)(),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(u.useEffect)((function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e);r(t)}}),[]),Object(m.jsx)(v.Provider,{value:{user:n,setUser:r},children:Object(m.jsx)("div",{className:"App",children:n?Object(m.jsx)(me,{}):Object(m.jsx)(Ne,{})})})};b.a.render(Object(m.jsx)(j.a.StrictMode,{children:Object(m.jsx)(We,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.de65ee35.chunk.js.map