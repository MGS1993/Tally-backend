(this.webpackJsonptally=this.webpackJsonptally||[]).push([[0],{147:function(e,n,t){e.exports={formWrapper:"Menu_formWrapper__2pZop"}},237:function(e,n,t){},373:function(e,n,t){},384:function(e,n,t){"use strict";t.r(n);var r,c,a,i,s,o,l,d,u,j,p,b,x,f,h,O,g,v,m,y,w,k,S,C,E,N,D,T,z,I,U,M,q,A,F,V=t(1),_=t.n(V),H=t(91),L=t.n(H),P=(t(237),t(5)),J=t(93),W=t(20),R=_.a.createContext(),B=t(2),X={alignItems:"center",backgroundColor:"dodgerblue",color:"white",display:"flex",height:"6%",justifyContent:"center",minHeight:"38px"},$=function(){return Object(B.jsx)("div",{style:X,children:Object(B.jsx)("h1",{children:"Tally"})})},K={alignItems:"center",display:"flex",flex:"1",flexDirection:"column",margin:"10px",textAlign:"center",height:"100%",justifyContent:"center"},Z={alignItems:"center",alignSelf:"center",backgroundColor:"white",borderRadius:"5px",boxShadow:"0 4px 8px 0 rgba(0,0,0,0.2)",display:"flex",justifyContent:"center",marginTop:"25px",padding:"10px",width:"80vw"},G={color:"gray",fontSize:"14px",minHeight:"32px",textTransform:"capitalize"},Q={color:"red",fontSize:"28px",fontWeight:"bold",marginTop:"10%"},Y={color:"green",fontSize:"28px",fontWeight:"bold",marginTop:"10%"},ee=function(e){var n=e.data,t=e.userName,r=(null===n||void 0===n?void 0:n.calculatedUserExpenses)-(null===n||void 0===n?void 0:n.calculatedOtherUserExpenses);return Object(B.jsxs)("div",{style:Z,children:[Object(B.jsxs)("div",{style:K,children:[Object(B.jsx)("p",{style:G,children:"".concat(t,"'s Expenses")}),Object(B.jsxs)("div",{style:Y,children:[null===n||void 0===n?void 0:n.calculatedUserExpenses," "]})]}),Object(B.jsxs)("div",{style:K,children:[Object(B.jsx)("p",{style:G,children:"Balance"}),Object(B.jsx)("div",{id:"difference",style:r<0?Q:Y,children:r||0})]}),Object(B.jsxs)("div",{style:K,children:[Object(B.jsx)("p",{style:G,children:"".concat("manuel"===t?"victoria":"manuel","'s Expenses")}),Object(B.jsx)("div",{style:Y,children:null===n||void 0===n?void 0:n.calculatedOtherUserExpenses})]})]})},ne=t(12),te=t.n(ne),re=t(28),ce=t(15),ae=function(){var e=Object(re.a)(te.a.mark((function e(n,t){var r,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/deleteExpense/".concat(n,"/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.next=6,r.json();case 6:return c=e.sent,console.log(c),e.abrupt("return",c);case 11:e.prev=11,e.t0=e.catch(0),console.log("error in delete expense function:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n,t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(re.a)(te.a.mark((function e(n){var t,r,c,a,i,s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,fetch("/api/getExpenses/".concat(n));case 5:return t=e.sent,e.next=8,t.json();case 8:return r=e.sent,c=r.userExpenses,a=r.otherUserExpenses,i=r.calculatedUserExpenses,s=r.calculatedOtherUserExpenses,e.abrupt("return",{userExpenses:c,otherUserExpenses:a,calculatedUserExpenses:i,calculatedOtherUserExpenses:s});case 13:e.prev=13,e.t0=e.catch(2),console.log("Error in getExpense function:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(n){return e.apply(this,arguments)}}(),se=function(){var e=Object(re.a)(te.a.mark((function e(){var n,t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("historical expenses called."),e.prev=1,e.next=4,fetch("/api/getHistoricalExpenses");case 4:return n=e.sent,e.next=7,n.json();case 7:return t=e.sent,e.abrupt("return",t);case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),oe=t(398),le=t(409),de=function(e){var n=Object(oe.a)(e);return Object(le.a)(new Date(n),"MMMM do")},ue=t(13),je=t(14),pe=je.a.div(r||(r=Object(ue.a)(["\n  background-color: white;\n  border: 1px solid #c9c9c9c9;\n  border-radius: 6px;\n  display: flex;\n  flex: 0 0 100px;\n  margin: 10px 0px;\n  padding: 12px 2px;\n  width: 85vw;\n"]))),be=je.a.div(c||(c=Object(ue.a)(["\n  align-items: center;\n  display: flex;\n  flex-basis: 30%;\n  flex-direction: column;\n  position: relative;\n"]))),xe=je.a.div(a||(a=Object(ue.a)(["\n  align-items: center;\n  display: flex;\n  flex: 1;\n  justify-content: center;\n\n  & > p {\n    color: green;\n    font-size: 1.6rem;\n  }\n"]))),fe=je.a.div(i||(i=Object(ue.a)(["\n  color: #808080;\n  text-align: center;\n  text-transform: capitalize;\n  position: absolute;\n"]))),he=je.a.div(s||(s=Object(ue.a)(["\n  display: flex;\n  flex-basis: 70%;\n  flex-direction: column;\n"]))),Oe=je.a.div(o||(o=Object(ue.a)(["\n  //placeholder color\n  align-items: center;\n  background-color: ",";\n  border-radius: 8px;\n  color: white;\n  display: flex;\n  font-size: 1.4rem;\n  min-height: 40px;\n  justify-content: center;\n  position: relative;\n  text-align: center;\n"])),(function(e){var n=e.toggle,t=e.colorAccent;return 1===n?"white":t})),ge=je.a.div(l||(l=Object(ue.a)(["\n  max-width: 70%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),ve=je.a.div(d||(d=Object(ue.a)(["\n  border-radius: 8px;\n  display: flex;\n  position: absolute;\n  z-index: 1;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: #ff6640;\n  transform: scaleX(0);\n  transform-origin: 0 50%;\n  transition-property: transform;\n  transition-duration: 0.5s;\n  transition-timing-function: ease-out;\n\n  ","\n  //delete and cancel button post animation\n  & > div:first-child {\n    align-items: center;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: space-around;\n    width: 100%;\n  }\n"])),(function(e){return e.toggle&&"\n      transform: scaleX(1);\n      transition-timing-function: cubic-bezier(0.52, 1.64, 0.37, 0.66);\n  "})),me=je.a.div(u||(u=Object(ue.a)(["\n  position: absolute;\n  height: 22px;\n  width: 22px;\n  left: 5px;\n"]))),ye=je.a.div(j||(j=Object(ue.a)(["\n  & > :first-child {\n    /* grey is color placeholder */\n    color: grey;\n  }\n"]))),we=je.a.div(p||(p=Object(ue.a)(["\n  display: flex;\n  flex-basis: 40%;\n  justify-content: space-evenly;\n\n  & > div {\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n"]))),ke=je.a.div(b||(b=Object(ue.a)(["\n  color: #6e6e6e;\n  flex-basis: 60%;\n  min-height: 65px;\n  padding: 8px 4px;\n  overflow: scroll;\n"]))),Se=je.a.div(x||(x=Object(ue.a)(["\n  align-self: center;\n  border-left: 1px solid grey;\n  display: flex;\n  height: 90%;\n  width: 8px;\n"]))),Ce=t(195),Ee=je.a.button(f||(f=Object(ue.a)(["\n  border: 0px solid white;\n  border-radius: 11px;\n  background-color: transparent;\n  height: 100%;\n  width: 100%;\n\n  & > :first-child {\n    height: 100%;\n    width: 100%;\n  }\n"]))),Ne=function(e){var n=e.onClick;return Object(B.jsx)(Ee,{onClick:n,children:Object(B.jsx)(Ce.a,{color:"white"})})},De=t(34),Te=t(410),ze=Object(De.a)(Te.a)(h||(h=Object(ue.a)(["\n  align-self: center;\n  color: white;\n  font-weight: bold;\n  /* padding: 0px; */\n  /* width: 90%; */\n"]))),Ie=Object(De.a)(ze)(O||(O=Object(ue.a)(["\n  padding: 10px;\n  width: 90%;\n"]))),Ue=function(e){var n=e.cost,t=e.title,r=e.date,c=e.description,a=e.clicked,i=e.ownerName,s=e.splitValue,o=e.initialCost,l=e.colorAccent,d=Object(V.useState)(!1),u=Object(P.a)(d,2),j=u[0],p=u[1];return Object(B.jsxs)(pe,{children:[Object(B.jsxs)(be,{children:[Object(B.jsx)(fe,{children:Object(B.jsxs)("p",{children:["-",i,"-"]})}),Object(B.jsx)(xe,{children:Object(B.jsxs)("p",{children:["$",n]})})]}),Object(B.jsx)(Se,{}),Object(B.jsxs)(he,{children:[Object(B.jsxs)(Oe,{colorAccent:l,toggle:j?1:0,children:[Object(B.jsx)(ve,{toggle:j?1:0,children:Object(B.jsxs)("div",{children:[Object(B.jsx)(ze,{onClick:a,children:"Delete"}),Object(B.jsx)(ze,{onClick:function(){return p(!1)},children:"Cancel"})]})}),j?null:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(me,{children:Object(B.jsx)(Ne,{onClick:function(){return p(!0)}})}),Object(B.jsx)(ge,{children:(null===t||void 0===t?void 0:t.length)>1?t:"No Title"})]})]}),Object(B.jsx)(ke,{children:(null===c||void 0===c?void 0:c.length)>1?c:"No description provided"}),Object(B.jsxs)(we,{children:[Object(B.jsxs)(ye,{children:[Object(B.jsx)("div",{children:"Date"}),Object(B.jsx)("div",{children:de(r)})]}),Object(B.jsx)(Se,{}),Object(B.jsxs)(ye,{children:[Object(B.jsx)("div",{children:"split by"}),Object(B.jsxs)("div",{children:[s,"%"]})]}),Object(B.jsx)(Se,{}),Object(B.jsxs)(ye,{children:[Object(B.jsx)("div",{children:"Total"}),Object(B.jsxs)("div",{children:["$",o]})]})]})]})]})},Me=t(413),qe={alignItems:"center",paddingTop:"20px"},Ae={alignItems:"center",display:"flex",flexDirection:"column",maxHeight:"65vh",overflow:"scroll"},Fe=function(e){var n=e.data,t=e.userId,r=e.setData,c=[],a=function(e,n,t){if(void 0!==e&&void 0!==n){var r=[].concat(Object(ce.a)(e),Object(ce.a)(n));return"descending"===t&&r.sort((function(e,n){return new Date(n.date)-new Date(e.date)})),r}}(null===n||void 0===n?void 0:n.userExpenses,null===n||void 0===n?void 0:n.otherUserExpenses,"descending"),i=function(){var e=Object(re.a)(te.a.mark((function e(n,t){var c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(n,t);case 2:return e.next=4,ie(n);case 4:c=e.sent,r(c);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return null===a||void 0===a||a.forEach((function(e,n){c.push(Object(B.jsx)(Ue,{cost:e.cost,title:e.title,date:e.date,description:e.description,ownerName:e.ownerName,splitValue:e.splitValue,initialCost:e.initialCost,clicked:function(){return i(t,e._id)},colorAccent:e.exLabelColor},Object(Me.a)()))})),Object(B.jsx)("div",{style:qe,children:Object(B.jsx)("div",{style:Ae,children:c})})},Ve={display:"flex",flexDirection:"column",flex:"1"},_e=function(e){var n=e.data,t=e.setData,r=Object(V.useContext)(R);return Object(B.jsxs)("div",{style:Ve,children:[Object(B.jsx)(ee,{data:n,userName:null===r||void 0===r?void 0:r.user.userName}),Object(B.jsx)(Fe,{data:n,userId:null===r||void 0===r?void 0:r.user._id,userName:null===r||void 0===r?void 0:r.user.userName,setData:t})]})},He=je.a.div(g||(g=Object(ue.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow: scroll;\n"]))),Le=function(e){var n=Object(V.useState)([]),t=Object(P.a)(n,2),r=t[0],c=t[1],a=Object(V.useState)(!1),i=Object(P.a)(a,2),s=i[0],o=i[1],l=Object(V.useState)(!1),d=Object(P.a)(l,2),u=d[0],j=d[1],p=function(){var n=Object(re.a)(te.a.mark((function n(){var t,r=arguments;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,j(!0),n.next=4,e.apply(void 0,r);case 4:t=n.sent,j(!1),o(!1),c(t),n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),console.log("error in useAPi hook:",n.t0),n.abrupt("return",o(!0));case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(){return n.apply(this,arguments)}}();return{data:r,setData:c,error:s,loading:u,request:p}},Pe=t(405),Je=t(414),We=t(222),Re=t(210),Be=t(101),Xe=["dodgerblue","#f95959","#3fba37","#a037baf0","#0c8065f0","#8e1ac8f0"],$e=je.a.h1(v||(v=Object(ue.a)(["\n  color: dodgerblue;\n  margin-top: 22px;\n  opacity: ",";\n  transition: opacity 0.4s ease;\n"])),(function(e){return e.animationToggle?1:0})),Ke=_.a.memo((function(e){var n=e.chartData,t=e.animationFinished,r=e.setAnimationFinished;return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)($e,{animationToggle:t,children:"Historical Expenses"}),Object(B.jsx)(Pe.a,{height:"60%",children:Object(B.jsxs)(Je.a,{children:[Object(B.jsx)(We.a,{data:n.finishedData,dataKey:"value",label:!0,labelLine:!1,onAnimationEnd:function(){return r(!0)},legendType:"square",children:n.finishedData.map((function(e,n){return Object(B.jsx)(Re.a,{fill:Xe[n]},"cell-".concat(n))}))}),Object(B.jsx)(Be.a,{})]})})]})})),Ze=je.a.div(m||(m=Object(ue.a)(["\n  background-color: #fff;\n  border: 2px solid ",";\n  border-radius: 6px;\n  display: flex;\n  justify-content: space-between;\n\n  margin: 10px 0px;\n  width: 85vw;\n\n  & > div {\n    padding: 20px 20px;\n    flex: 1;\n    text-align: center;\n    text-transform: capitalize;\n  }\n"])),(function(e){return e.borderColor||"#c9c9c9c9"})),Ge=function(e){var n=e.cost,t=e.date,r=e.ownerName,c=e.accentColor;return Object(B.jsxs)(Ze,{borderColor:c,children:[Object(B.jsx)("div",{children:r}),Object(B.jsx)("div",{children:n}),Object(B.jsx)("div",{children:Object(le.a)(Object(oe.a)(t),"MM-d-yy")})]})},Qe=(je.a.div(y||(y=Object(ue.a)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]))),je.a.div(w||(w=Object(ue.a)(["\n  align-items: center;\n  display: flex;\n  justify-content: ",";\n"])),(function(e){return e.justifyContent||"center"}))),Ye=je.a.button(k||(k=Object(ue.a)(["\n  align-items: center;\n  background-color: ",";\n  border: ",";\n  border-radius: 12px;\n  color: ",";\n  display: flex;\n  font-size: 12px;\n  justify-content: center;\n  min-width: 116.5px;\n  padding: ",";\n  text-transform: capitalize;\n  transition: background-color 0.4s ease, color 0.4s ease;\n\n  & > div {\n    padding: 4px;\n  }\n"])),(function(e){return e.toggled?"dodgerblue":"#fff"}),(function(e){return e.toggled?"0px":"2px solid dodgerblue"}),(function(e){return e.toggled?"#fff":"#4a4a4a"}),(function(e){return e.toggled?"10px":"8px"})),en=function(e){var n=e.clicked,t=e.disabled,r=e.name,c=e.toggled;return Object(B.jsx)(Ye,{type:"button",disabled:t,toggled:c,onClick:n,children:Object(B.jsx)("div",{children:r})})},nn=function(e){var n=e.list,t=Object(V.useState)(n),r=Object(P.a)(t,2),c=r[0],a=r[1],i=Object(V.useState)(!1),s=Object(P.a)(i,2),o=s[0],l=s[1],d=Object(V.useState)(!1),u=Object(P.a)(d,2),j=u[0],p=u[1],b=Object(V.useState)(!1),x=Object(P.a)(b,2),f=x[0],h=x[1],O=Object(V.useState)(!1),g=Object(P.a)(O,2),v=g[0],m=g[1];return Object(B.jsxs)("div",{children:[Object(B.jsxs)(Qe,{justifyContent:"space-around",children:[Object(B.jsx)(en,{name:v?f?"Old To New":"New To Old":"Sort Date",toggled:v,clicked:f?function(){return function(){var e=Object(ce.a)(c);e.sort((function(e,n){return new Date(n.props.date)-new Date(e.props.date)})),a(e),h(!f),m(!0),p(!1)}()}:function(){return function(){var e=Object(ce.a)(c);e.sort((function(e,n){return new Date(e.props.date)-new Date(n.props.date)})),a(e),h(!f),m(!0),p(!1)}()}}),Object(B.jsx)(en,{name:j?o?"High To Low":"Low To High":"Sort Expense",toggled:j,clicked:o?function(){return function(){var e=Object(ce.a)(c);e.sort((function(e,n){return e.props.cost-n.props.cost})),a(e),l(!o),p(!0),m(!1)}()}:function(){return function(){var e=Object(ce.a)(c);e.sort((function(e,n){return n.props.cost-e.props.cost})),a(e),l(!o),p(!0),m(!1)}()}})]}),c]})},tn=function(e){var n=e.data,t=e.user,r=[];return null===n||void 0===n||n.forEach((function(e,n){r.push(Object(B.jsx)(Ge,{cost:e.cost,title:e.title,date:e.date,description:e.description,ownerName:e.ownerName,splitValue:e.splitValue,initialCost:e.initialCost,accentColor:e.ownerName===t.userName?"dodgerblue":"#f95959"},n))})),Object(B.jsx)(nn,{list:r})},rn=function(e,n){if(e){var t,r,c=[],a=[];"manuel"===n.userName?(t="Manuel",r="Victoria"):(t="Victoria",r="Manuel");for(var i=0;i<e.length;i++)e[i].ownerName===n.userName?c.push({name:e[i].ownerName,value:parseInt(e[i].cost)}):a.push({name:e[i].ownerName,value:parseInt(e[i].cost)});return{finishedData:function(){var e=c.reduce((function(e,n){return e+n.value}),0),n=a.reduce((function(e,n){return e+n.value}),0);return[{name:t,value:e,color:"dodgerblue"},{name:r,value:n,color:"#f95959"}]}()}}},cn=function(e){var n=e.user,t=Object(V.useState)(!1),r=Object(P.a)(t,2),c=r[0],a=r[1],i=Le(se),s=i.data,o=i.request,l=s.allHistoricalExpenses,d=rn(l,n);return Object(V.useEffect)((function(){o()}),[]),Object(B.jsxs)(He,{children:[d?Object(B.jsx)(Ke,{chartData:d,animationFinished:c,setAnimationFinished:a}):null,c?Object(B.jsx)(tn,{data:l,user:n}):null]})},an=t(215),sn=t(214),on=t(213),ln=je.a.div(S||(S=Object(ue.a)(["\n  display: flex;\n  width: ",";\n  border-radius: parseInt(20px) / 2;\n  justify-content: center;\n  align-items: center;\n\n  & > svg {\n    transition: color 0.4s ease;\n  }\n"])),(function(e){return e.iconSize})),dn=function(e){var n=e.size,t=void 0===n?"20px":n,r=e.IconName,c=e.activeColor,a=e.color;return Object(B.jsx)(ln,{iconSize:t,children:Object(B.jsx)(r,{color:a||c?"#1976d2":"black",size:t})})},un=t(67),jn=t(147),pn=t.n(jn),bn=t(54),xn=function(){var e=Object(re.a)(te.a.mark((function e(n,t){var r,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.userId=t,e.prev=1,e.next=4,fetch("/api/addExpense",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",{data:c,response:r});case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n,t){return e.apply(this,arguments)}}(),fn=function(e,n){return(n*e/100).toFixed(2)},hn=je.a.div(C||(C=Object(ue.a)(["\n  background-color: #fff;\n  bottom: -50vh;\n  display: flex;\n  flex-direction: column;\n  height: 0vh;\n  justify-content: center;\n  position: fixed;\n  transition: 0.5s ease-in-out;\n  width: 100%;\n  z-index: 4;\n"]))),On=je.a.form(E||(E=Object(ue.a)(['\n  display: flex;\n  flex-direction: column;\n  font-family: "Roboto";\n  overflow-y: scroll;\n  /* margin: 20% 0px; */\n']))),gn=je.a.div(N||(N=Object(ue.a)(['\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n\n  & > textarea {\n    border: 2px solid #5cb6e2;\n    border-radius: 8px;\n    color: #38334ccc;\n    font-family: "Roboto";\n    font-size: 18px;\n    padding: 8px 12px;\n  }\n']))),vn=je.a.input(D||(D=Object(ue.a)(["\n  border: 2px solid #5cb6e2;\n  border-radius: 10px;\n  color: #38334ccc;\n  font-size: 26px;\n  padding: 8px 12px;\n  width: inherit;\n"]))),mn=je.a.div(T||(T=Object(ue.a)(["\n  align-items: center;\n  background-color: #fff;\n  color: #5cb6e2;\n  display: flex;\n  justify-content: space-evenly;\n  font-size: 28px;\n  font-weight: bold;\n  padding: 10px 12px;\n  text-transform: uppercase;\n"]))),yn=je.a.div(z||(z=Object(ue.a)(["\n  display: flex;\n  position: relative;\n  width: 100%;\n"]))),wn=je.a.div(I||(I=Object(ue.a)(["\n  color: #38334ccc;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  font-size: 18px;\n  top: 0px;\n  right: 0px;\n  height: 100%;\n  padding: 8px;\n  width: 30%;\n"]))),kn=function(e){var n=e.calculatedSplit;return Object(B.jsx)(wn,{children:n})},Sn=t(411),Cn=function(e){var n,t=e.allUsers,r=e.setData,c=e.setMenuToggle,a=e.menuToggle,i=e.style,s=Object(V.useContext)(R),o=Object(V.useState)(!1),l=Object(P.a)(o,2),d=l[0],u=l[1],j=Object(V.useState)(),p=Object(P.a)(j,2),b=p[0],x=p[1],f=Object(V.useState)(""),h=Object(P.a)(f,2),O=h[0],g=h[1],v=Object(V.useState)(50),m=Object(P.a)(v,2),y=m[0],w=m[1],k=Object(V.useState)(!0),S=Object(P.a)(k,2),C=S[0],E=S[1],N=Object(V.useState)(!1),D=Object(P.a)(N,2),T=D[0],z=D[1],I=Object(V.useState)(""),U=Object(P.a)(I,2),M=U[0],q=U[1],A=Object(V.useState)(0),F=Object(P.a)(A,2),_=F[0],H=F[1],L=Object(V.useState)("text"),J=Object(P.a)(L,2),W=J[0],X=J[1],$=Object(bn.d)(),K=$.register,Z=$.handleSubmit,G=$.reset,Q=$.getValues,Y=$.formState.errors,ee=function(){var e=Object(re.a)(te.a.mark((function e(n){var t,i;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Xe[Math.floor(Math.random()*Xe.length)],n.cost=b,n.splitValue=y,n.initialCost=O,n.exLabelColor=t,""===M){e.next=10;break}return e.next=8,xn(n,M._id);case 8:e.next=12;break;case 10:return e.next=12,xn(n,s.user._id);case 12:return e.next=14,ie(s.user._id);case 14:i=e.sent,r(i),G(),w(50),x(null),E(!0),c(!a),g(""),X("text");case 23:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ne=function(e){!function(e){e.length<=0?E(!0):E(!1)}(e.target.value);var n=parseInt(e.target.value),t=fn(n,50);x(t),g(e.target.value)};return Object(B.jsx)(hn,{style:i,children:Object(B.jsxs)(On,{id:"form",onSubmit:Z((function(e){return ee(e)})),children:[Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(gn,{children:[Object(B.jsxs)(mn,{children:[Object(B.jsx)(en,{disabled:C,toggled:d,name:"Modify Split",clicked:function(){return u(!d)}}),Object(B.jsx)(en,{name:M.userName||"Charge to other",toggled:T,clicked:function(){return z(!0),H((function(e){return e+1})),void q(t[_%2===0?1:0])}})]}),Object(B.jsxs)(yn,{children:[Object(B.jsx)(vn,Object(un.a)({type:"number",id:"number-input",inputMode:"numeric",placeholder:"Cost (required)",name:"cost",step:"0.01",onInput:function(e){return ne(e)}},K("cost",{required:!0}))),Object(B.jsx)(kn,{calculatedSplit:b})]}),"required"===(null===(n=Y.cost)||void 0===n?void 0:n.type)&&"Cost is required",Object(B.jsx)(Sn.a,{disabled:!d,onChange:function(e){return function(e){var n=Q("cost"),t=fn(e,n);x(t),w(e)}(e.target.value)},size:"medium",min:0,max:100,defaultValue:50,"aria-label":"sliderPercent",step:5,valueLabelDisplay:"auto",sx:{height:d?"8px":"0px",opacity:d?"1":"0",transition:"all 0.3s linear"}})]})}),Object(B.jsx)(gn,{className:pn.a.titleWrapper,children:Object(B.jsx)(vn,Object(un.a)({type:"text",id:"title-input",name:"title",placeholder:"Title"},K("title")))}),Object(B.jsx)(gn,{className:pn.a.dateWrapper,children:Object(B.jsx)(vn,Object(un.a)({type:W,id:"date-picker",name:"date",placeholder:"Date",onFocus:function(){return X("date")}},K("date")))}),Object(B.jsx)(gn,{children:Object(B.jsx)("textarea",Object(un.a)({cols:"15",rows:"2",id:"textarea-input",placeholder:"Description",name:"description"},K("description")))}),Object(B.jsx)(Ie,{variant:"contained",type:"submit",children:"Submit Expense"})]})})},En=je.a.footer(U||(U=Object(ue.a)(["\n  display: flex;\n  height: 6%;\n  min-height: 30px;\n  z-index: 4;\n"]))),Nn=je.a.div(M||(M=Object(ue.a)(["\n  align-items: center;\n  background-color: #fff;\n  box-shadow: 0 -1px 4px rgb(0 0 0 / 12%), 0 1px 2px;\n  display: flex;\n  justify-content: space-between;\n  height: 100%;\n  width: 100vw;\n\n  & > div {\n    margin: 0 15px;\n  }\n"]))),Dn=function(e){var n=e.allUsers,t=e.clicked,r=e.menuToggle,c=e.setMenuToggle,a=e.setData,i=Object(W.e)(),s=function(){var e;e="/history"===i.pathname?on.a:sn.a;var n=function(){return"/history"===i.pathname?"#1976d2":"black"};return r?Object(B.jsx)(dn,{color:n,IconName:e,size:30}):Object(B.jsx)(J.b,{to:"/history"===i.pathname?"/":"/history",children:Object(B.jsx)(dn,{color:n,IconName:e,size:30})})};return Object(B.jsxs)(B.Fragment,{children:[r?Object(B.jsx)(Cn,{allUsers:n,setData:a,menuToggle:r,setMenuToggle:c,style:{height:"100%",bottom:"0%"}}):Object(B.jsx)(Cn,{}),Object(B.jsx)(En,{children:Object(B.jsxs)(Nn,{children:[Object(B.jsx)("div",{children:Object(B.jsx)(s,{})}),Object(B.jsx)("div",{onClick:t,children:Object(B.jsx)(dn,{IconName:an.a,size:30,activeColor:r})})]})})]})},Tn=function(){var e=Object(re.a)(te.a.mark((function e(){var n,t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/getAllUsers");case 3:return n=e.sent,e.next=6,n.json();case 6:return t=e.sent,e.abrupt("return",t);case 10:e.prev=10,e.t0=e.catch(0),console.log("Error in getUsers function",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),zn=Tn,In=function(){var e=Object(V.useState)(!1),n=Object(P.a)(e,2),t=n[0],r=n[1],c=Object(V.useContext)(R),a=Le(ie),i=a.data,s=a.setData,o=a.request,l=Le(zn),d=l.data,u=l.request;return Object(V.useEffect)((function(){o(null===c||void 0===c?void 0:c.user._id),u()}),[]),Object(B.jsxs)(J.a,{children:[Object(B.jsx)($,{}),Object(B.jsxs)(W.c,{children:[Object(B.jsx)(W.a,{path:"/",element:Object(B.jsx)(_e,{data:i,setData:s})}),Object(B.jsx)(W.a,{path:"/history",element:Object(B.jsx)(cn,{user:null===c||void 0===c?void 0:c.user})})]}),Object(B.jsx)(Dn,{allUsers:d,clicked:function(){return r(!t)},menuToggle:t,setMenuToggle:r,setData:s})]})},Un=(t(373),je.a.div(q||(q=Object(ue.a)(['\n  position: absolute;\n  font-family: "Dancing Script", cursive;\n  left: 0;\n  right: 0;\n  font-size: 35px;\n  color: white;\n  margin-left: 0;\n  margin-right: 0;\n  width: 200px;\n  margin: 0 auto;\n  text-align: center;\n  top: 10vh;\n'])))),Mn=je.a.div(A||(A=Object(ue.a)(["\n  align-items: center;\n  display: flex;\n  background: rgb(165, 112, 215);\n  background: linear-gradient(\n    58deg,\n    rgba(165, 112, 215, 1) 0%,\n    rgba(105, 105, 218, 1) 53%,\n    rgba(57, 176, 200, 1) 100%\n  );\n  flex: 1;\n  flex-direction: column;\n  justify-content: center;\n"]))),qn=je.a.form(F||(F=Object(ue.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 80vw;\n\n  div {\n    margin: 10px 0px;\n  }\n\n  div > input:focus-visible {\n    border: 2px solid #cf82fb;\n    outline: none;\n  }\n\n  button {\n    font-size: 18px;\n    margin-top: 10px;\n  }\n"]))),An=function(){var e=Object(re.a)(te.a.mark((function e(n){var t,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:return r=e.sent,e.abrupt("return",{data:r,response:t});case 10:e.prev=10,e.t0=e.catch(0),console.log("Error in login function > auth.js",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),Fn=t(121),Vn=Fn.a().shape({username:Fn.b().required("Username is required"),password:Fn.b().min(4,"Password must contain at least 4 characters").required("Password is required")}),_n=t(221),Hn=function(){var e=Object(V.useContext)(R),n=Object(bn.d)({resolver:Object(_n.a)(Vn)}),t=n.register,r=n.handleSubmit,c=function(){var n=Object(re.a)(te.a.mark((function n(t){var r,c,a;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,An(t);case 2:r=n.sent,c=r.response,a=r.data,200===c.status&&(localStorage.setItem("user",JSON.stringify(a)),e.setUser(a));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(B.jsxs)(Mn,{children:[Object(B.jsx)(Un,{children:Object(B.jsx)("h1",{children:"Tally"})}),Object(B.jsxs)(qn,{onSubmit:r(c),children:[Object(B.jsx)(yn,{children:Object(B.jsx)(vn,Object(un.a)({type:"text",placeholder:"Username",name:"username"},t("username")))}),Object(B.jsx)(yn,{children:Object(B.jsx)(vn,Object(un.a)({type:"password",placeholder:"Password",name:"password"},t("password")))}),Object(B.jsx)(Ie,{type:"submit",children:"Log In"})]})]})};var Ln=function(){var e=Object(V.useState)(),n=Object(P.a)(e,2),t=n[0],r=n[1];return Object(V.useEffect)((function(){var e=localStorage.getItem("user");if(e){var n=JSON.parse(e);r(n)}}),[]),Object(B.jsx)(R.Provider,{value:{user:t,setUser:r},children:Object(B.jsx)("div",{className:"App",children:t?Object(B.jsx)(In,{}):Object(B.jsx)(Hn,{})})})};L.a.render(Object(B.jsx)(_.a.StrictMode,{children:Object(B.jsx)(Ln,{})}),document.getElementById("root"))}},[[384,1,2]]]);
//# sourceMappingURL=main.30f74713.chunk.js.map